---
title: 系统设计 | 编码、散列和加密
date: 2023-10-25 22:04:32
sidebar: auto
category: 
  - 软件架构
head:
  - - meta
    - name: keyword
      content: 编码，散列，HASH，加密
      description: 编码、散列和加密是常用的系统设计工具，但常常被混用、误用，本文带你一起辨析常见的编码、散列和加密算法。
---

编码、散列和加密是常用的系统设计工具，但常常被混用、误用，我们需要明确区分他们的边界，并在合适的场景下使用。

很多安全事件往往是设计者对这三种对数据处理的概念理解不够造成的。一个典型的例子是，Base64 是一种数据编码方法，它很容易被反编码回人类容易识别的形式，因此不能被用来作为数据加密的方法（因为它就不是一个数据加密的方法）。

把 Base64 当做加密方法，会带来严重的潜在安全问题。

## 编码、散列和加密的异同

下面澄清这三个概念。

编码（Encoding）是指将数据从一种格式转换为另外一种形式，用于在不同的系统和平台中使用，避免传输过程中出现错误。例如，URL 编码可以让数据在 URL 作为参数传输，是一种典型的数据编码方法和编程技巧。编码后的数据都是可被还原的。

散列（Hashing）是指从源数据中提取特征转换为一个固定长度的字母编码，又被成为数字摘要。和编码不同的是，散列的结果无法被还原（但不同的数据可以散列出同样的结果）。散列结果往往非常短小，因此可以作为数据完整性或者正确性校验。所以通过加盐的散列方法，可以让数据库不存储用户口令的情况下，依然能验证用户的身份。

加密（Encryption）加密是指处于安全用途，将输入内容通过秘密转换的形式，生成无法识别的密文。早期的加密方法依赖秘密的编码形式，依赖加密方法的机密性，本质依然是一种编码技术。现代的加密方法依赖密匙的机密性，让破解变得更困难。

以上三种方式真正能保护数据安全的方式只有加密，散列可以被用于识别访问者身份，而编码几乎不能被当做保护数据安全的手段。

## 数据编码

常用的数据编码手段有Base 系列编码、URL 编码、HTML 实体编码、HEX 二进制编码、Unicode 编码等，下面分别介绍一下其用途。

### Base 系列编码



### URL 编码

### HTML 实体编码
### HEX 二进制编码
### Unicode编码

## 散列

### MD5

### 国密散列算法 SM3 SM4

### SHA1

### CRC32 奇偶校验码


## 加密

- AES
- DES
- RSA
- 国密

## 参考资料

- https://www.packetlabs.net/posts/encryption-encoding-and-hashing


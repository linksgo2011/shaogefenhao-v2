---
title: 系统设计 | Web 项目中的可视化需求
date: 2024-07-05 10:48:32
sidebar: auto
category:
  - 软件架构
head:
  - - meta
    - name: keyword
      content: 如何实现项目中的数据可视化需求？
      description: 如何实现项目中的数据可视化需求？
---

数据可视化是一个非常大的领域，在这里我想讨论一下，数据可视化在 Web 项目中的常见需求，已经如何通过一些技术选型实现。

有时候我们会觉得，这不就是找个图表库就能搞定的事情，何必还写一篇文章。实际上在我工作经历中，数据可视化的需求非常杂，以至于这个领域的开源框架也非常繁杂。

这篇文章根据常见的需求，对这些开源框架做一些梳理和归类。

## 01 常见需求

最常见的需求是展示数据图表，例如电商网站会提供一些订单汇总的图表展示，显示每年每月的销量。这类需求是日常开发工作的主流，通过一些开箱即用的图表库就能实现。

另外一种是交互式的数据可视化。例如基于一个沙盘模型，点击沙盘模型的热点，出现相关的数据或者信息，一般开箱即用的图表库无法满足相关需要，我们可以使用一些更“低级”的图形库实现。这里的低级是指 API 的封装程度不高，灵活性较强。

还有一种是实时监控大屏，时髦一点的说法就是“智能驾驶舱”，用于在大屏上关注实时动态。比如景区人流量、医院、车站的繁忙情况等。这类场景已经比较成熟，往往有专业的开源、商业解决方案。

另外一种是数据分析仪表盘，根据数据分析模型展示数据洞察和动态，往往由 BI 工具完成，这部分在后续的文章中整理。

## 02 框架和选型

所以我把市面上常见的框架做了一个表格，便于归类和寻找，并对一些框架做了专门说明。

| 类型      | 用途                                               | 工具                                        |
|---------|--------------------------------------------------|-------------------------------------------|
| 图表库     | 用于嵌入到应用程序或网站中的静态或动态图表                            | ECharts,Chart.js, Highcharts, Antv.vision |
| 实时数据监控  | 实时监控和报警系统，适用于需要即时反馈的场景，一般需要支持时序数据。               | Grafana, Kibana, Prometheus               |
| GIS 可视化 | 显示地理分布和地理模式                                      | Leaflet,Mapbox                            | 
| 图和关系可视化 | 例如知识图谱，血缘关系等类型的图表展示                              | Cytoscape, Neo4j Bloom                    |
| 基础图形库   | 使用图形库的基础 API 实现更高级自定义数据可视化                       | D3.js, Three.js                           |
| 数据分析    | 适合数据分析师，科研用途的图表展示                                | Plotly,Dash                               |
| 图形绘制和编辑 | 例如网络设备拓扑图、流程图、时序图等，如果我们要集成这类能力到应用中，需要适当的图形库,又被称为图编辑引擎 | JointJS,drawio,Mermaid,AntV x6    |

上面这些图形库基本满足日常应用开发需求，下面挑选一些重点的说明。

### 前端报表场景用哪一个图表库？

在这些常见的图表库中（ECharts,Chart.js, Highcharts, Antv.vision，哪一个更适合被拿来开发报表？这个问题我在圈子问过一轮，在 2024 年 ECharts 还是首选。

我们可以从这几个维度来评价前端图表库：

- 商业授权：其它都没问题，Highcharts 有商业授权问题。
- 功能：基本都比较强，大部分场景差不了太多。
- 性能：ECharts 性能不错，Highcharts 文件稍大，Chart.js 性能差一点
- 体验：AntV 的体验和设计非常不错
- 定制化难度：Chart.js 最简单，其它都差不多
- 文档：AntV 社区支持少，文档不足

所以综合下来，如果是常规的报表需求，ECharts 比较安全；如果图表非常简单 Chart.js 轻量级一些，上手也简单；追求设计感的话 AntV 可以尝试。

补充说明：ECharts 是很多年前百度捐赠给 Apache 的项目，一直在更新， AntV 的前身好像是阿里巴巴收购的 Datav。

### 如果开箱即用的图表库不能满足的话用什么？

看需求，细分一下需求是什么，实在不行就上 Three.js 





### 图编辑引擎有哪些使用经验？


## 参考资料

- 数据可视化：在线设计与网页实现的技巧与工具 https://cloud.baidu.com/article/1861248
- https://threejs.org/
- https://antv.antgroup.com/
- https://d3js.org/
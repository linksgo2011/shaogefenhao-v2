Java
Java
Spring
TDD
JUnit
Mockito
JaCoCo
Java
Bug
Thoughtworks
TDD
TDD
Spring
Boot
JUnit
Spring
Boot
Spring
Java
Java
API
Unit
Spring
TDD
API
JUnit
Mockito
JaCoCo
A
B
GitHub
https
github
com
java
self
testing
java
self
testing
example
GitHub
Issues
shaogefenhao
gmail
com
Maven
Java
Git
Java
Maven
IntelliJ
IDEA
JUnit
JUnit
Thoughtworks
Thoughtworks
API
Simon
Han
LR
xxx
wenming
Eric
Vincent
Wei
Apache
Checkstyle
FindBugs
ArchUnit
OWASP
Dependency
Check
Java
Git
Git
Git
Hooks
JUnit
Hello
world
JUnit
assertThat
Matcher
Matcher
JUnit
Rule
JUnit
JUnit
JUnit
Java
FIRST
Mockito
mock
spy
Spring
Spring
Spring
Spring
Boot
SpringBootTest
Bean
Spring
Boot
Controller
Spring
Test
spring
boot
test
RESTful
API
RESTful
API
REST
Assured
MariaDB
DbUnit
API
JsonPath
Basic
Token
Cookie
API
WireMock
API
API
API
Maven
JUnit
API
JMeter
JMeter
JMeter
TDD
TDD
TDD
TDD
TDD
TDD
TDD
TDD
TDD
TDD
CI
CD
Jenkins
Jenkins
Jenkins
Freestyle
Java
API
Pact
Spring
Batch
Spring
Batch
Reader
Writer
Processor
JUnit
IntelliJ
IDEA
JUnit
JUnitCore
Runner
JUnit
Mockito
mock
when
verify
JaCoCo
Java
agent
Java
agent
JaCoCo
agent
JaCoCo
IntelliJ
IDEA
A
B
Testing
CMMI
CMMI
CMMI
CMMI
Bug
Bug
Mark
Mark
Bug
Defect
Orthogonal
Defect
Classification
Bug
UI
P
Priority
Test
Case
TC
RUP
Scrum
API
V
PPT
API
https
www
bylinzi
com
one
page
test
strategy
ISO
IEC
ISO
IEC
ISO
IEC
GB
T
API
API
API
DevOps
Smoke
Testing
CI
CD
API
API
DNS
Checkstyle
Java
FindBugs
ArchUnit
OWASP
Dependency
Check
PMD
Fortify
SCA
DoS
SQL
CSRF
XSS
STRIDE
DoS
Web
JMeter
AB
JMeter
AB
Apache
JavaScript
Web
MECE
Mutually
Exclusive
Collectively
Exhaustive
MECE
MECE
MECE
X
X
Case
x
x
Case
x
Case
x
x
Case
x
Case
x
Case
x
Case
x
Case
x
Case
x
if
input
isANumber
input
input
throw
new
Exception
input
error
Mock
API
API
API
JUnit
Spring
MockMVC
API
TDD
TDD
TDD
API
ETL
Extract
Transform
Load
Spring
Batch
Java
Faker
Python
JavaScript
JavaScript
Faker
faker
js
faker
js
npm
MIME
Multipurpose
Internet
Mail
Extensions
www
fakefilegenerator
com
IANA
Linux
dev
zero
dd
dev
zero
dd
dd
if
of
bs
count
MB
dd
if
dev
zero
of
output
txt
bs
count
Linux
truncate
echo
hello
test
txt
truncate
s
test
txt
Mac
OS
truncate
brew
install
truncate
Windows
fsutil
fsutil
file
createnew
URL
https
placeholder
co
URL
URL
Sublime
Sublime
Sublime
Ctrl
Shift
L
Ctrl
Mac
OS
Ctrl
Command
Sublime
Ctrl
D
Ctrl
D
Alt
API
Git
GitLab
IntelliJ
IDEA
Git
Release
Git
Checkstyle
ArchUnit
FindBugs
OWASP
Dependency
Check
IDE
IDE
Java
Gradle
Maven
Java
Maven
Maven
Maven
IntelliJ
IDEA
Java
Git
https
github
com
java
self
testing
java
self
testing
example
Checkstyle
Checkstyle
Java
Java
Checkstyle
Sun
Java
IDEA
Maven
Gradle
Checkstyle
Checkstyle
Maven
Checkstyle
Maven
Pom
Checkstyle
Pom
properties
project
build
sourceEncoding
UTF
project
build
sourceEncoding
properties
build
plugins
plugin
groupId
org
apache
maven
plugins
groupId
artifactId
maven
checkstyle
plugin
artifactId
version
version
dependencies
Checkstyle
plugin
Checkstyle
dependency
groupId
com
puppycrawl
tools
groupId
artifactId
checkstyle
artifactId
version
version
dependency
dependencies
executions
maven
execution
id
checkstyle
id
phase
validate
phase
goals
goal
check
goal
goals
configuration
failOnViolation
true
failOnViolation
configuration
execution
executions
plugin
plugins
build
Maven
mvn
checkstyle
check
Checkstyle
IDE
Checkstyle
Checkstyle
IDE
Checkstyle
IDE
Maven
Pom
checkstyle
config
location
XML
Checkstyle
properties
project
build
sourceEncoding
UTF
project
build
sourceEncoding
Pom
checkstyle
config
location
checkstyle
checkstyle
xml
checkstyle
config
location
properties
checkstyle
Checkstyle
xml
version
DOCTYPE
module
PUBLIC
Checkstyle
DTD
Checkstyle
Configuration
EN
https
checkstyle
org
dtds
dtd
module
name
Checker
property
name
charset
value
UTF
error
property
name
severity
value
warning
property
name
fileExtensions
value
java
properties
xml
Excludes
all
module
info
java
files
See
https
checkstyle
org
html
module
info
java
module
name
BeforeExecutionExclusionFileFilter
property
name
fileNamePattern
value
module
info
java
module
https
checkstyle
org
html
SuppressionFilter
module
name
SuppressionFilter
property
name
file
value
org
checkstyle
google
suppressionfilter
config
default
checkstyle
suppressions
xml
property
name
optional
value
true
module
Checks
for
whitespace
See
http
checkstyle
org
html
module
name
FileTabCharacter
property
name
eachLine
value
true
module
module
name
LineLength
property
name
fileExtensions
value
java
property
name
max
value
property
name
ignorePattern
value
package
import
a
href
href
http
https
ftp
module
Java
module
name
TreeWalker
module
name
OuterTypeFilename
Unicode
module
name
IllegalTokenText
property
name
tokens
value
property
name
format
value
a
A
c
C
d
D
C
c
property
name
message
value
Consider
using
special
escape
sequence
instead
of
octal
value
or
Unicode
escaped
value
module
Unicode
module
name
AvoidEscapedUnicodeCharacters
property
name
allowEscapesForControlCharacters
value
true
property
name
allowByTailComment
value
true
property
name
allowNonPrintableEscapes
value
true
module
import
module
name
AvoidStarImport
module
name
OneTopLevelClass
module
name
NoLineWrap
property
name
tokens
value
IMPORT
module
module
name
EmptyBlock
property
name
option
value
TEXT
property
name
tokens
value
module
module
name
NeedBraces
property
name
tokens
value
WHILE
module
module
name
LeftCurly
property
name
tokens
value
LAMBDA
OBJBLOCK
module
module
name
RightCurly
property
name
id
value
RightCurlySame
property
name
tokens
value
module
module
name
RightCurly
property
name
id
value
RightCurlyAlone
property
name
option
value
alone
property
name
tokens
value
WHILE
module
module
name
SuppressionXpathSingleFilter
suppresion
is
required
till
https
github
com
checkstyle
checkstyle
issues
property
name
id
value
RightCurlyAlone
property
name
query
value
RCURLY
parent
SLIST
count
or
preceding
sibling
last
self
LCURLY
module
module
name
WhitespaceAfter
property
name
tokens
value
COMMA
SEMI
TYPECAST
module
module
name
WhitespaceAround
property
name
allowEmptyConstructors
value
true
property
name
allowEmptyLambdas
value
true
property
name
allowEmptyMethods
value
true
property
name
allowEmptyTypes
value
true
property
name
allowEmptyLoops
value
true
property
name
ignoreEnhancedForColon
value
false
property
name
tokens
value
ASSIGN
BAND
BOR
BSR
BXOR
COLON
DIV
EQUAL
GE
GT
LAMBDA
LAND
LCURLY
LE
SYNCHRONIZED
LOR
LT
MINUS
MOD
PLUS
QUESTION
RCURLY
SL
SLIST
SR
STAR
message
key
ws
notFollowed
value
WhitespaceAround
is
not
followed
by
whitespace
Empty
blocks
may
only
be
represented
as
when
not
part
of
a
multi
block
statement
message
key
ws
notPreceded
value
WhitespaceAround
is
not
preceded
with
whitespace
module
module
name
OneStatementPerLine
module
name
MultipleVariableDeclarations
module
name
ArrayTypeStyle
switch
default
module
name
MissingSwitchDefault
switch
case
break
module
name
FallThrough
module
name
UpperEll
module
name
ModifierOrder
module
name
EmptyLineSeparator
property
name
tokens
value
IMPORT
DEF
DEF
property
name
allowNoEmptyLineBetweenFields
value
true
module
module
name
SeparatorWrap
property
name
id
value
SeparatorWrapDot
property
name
tokens
value
DOT
property
name
option
value
nl
module
module
name
SeparatorWrap
property
name
id
value
SeparatorWrapComma
property
name
tokens
value
COMMA
property
name
option
value
EOL
module
module
name
SeparatorWrap
ELLIPSIS
is
EOL
until
https
github
com
google
styleguide
issues
property
name
id
value
SeparatorWrapEllipsis
property
name
tokens
value
ELLIPSIS
property
name
option
value
EOL
module
module
name
SeparatorWrap
is
EOL
until
https
github
com
google
styleguide
issues
property
name
id
value
SeparatorWrapArrayDeclarator
property
name
tokens
value
property
name
option
value
EOL
module
module
name
SeparatorWrap
property
name
id
value
SeparatorWrapMethodRef
property
name
tokens
value
property
name
option
value
nl
module
module
name
PackageName
property
name
format
value
a
z
a
z
a
message
key
name
invalidPattern
value
Package
name
must
match
pattern
module
module
name
TypeName
property
name
tokens
value
message
key
name
invalidPattern
value
Type
name
must
match
pattern
module
module
name
MemberName
property
name
format
value
a
z
a
a
zA
message
key
name
invalidPattern
value
Member
name
must
match
pattern
module
module
name
ParameterName
property
name
format
value
a
z
a
a
zA
message
key
name
invalidPattern
value
Parameter
name
must
match
pattern
module
Lambda
module
name
LambdaParameterName
property
name
format
value
a
z
a
a
zA
message
key
name
invalidPattern
value
Lambda
parameter
name
must
match
pattern
module
catch
module
name
CatchParameterName
property
name
format
value
a
z
a
a
zA
message
key
name
invalidPattern
value
Catch
parameter
name
must
match
pattern
module
module
name
LocalVariableName
property
name
format
value
a
z
a
a
zA
message
key
name
invalidPattern
value
Local
variable
name
must
match
pattern
module
module
name
PatternVariableName
property
name
format
value
a
z
a
a
zA
message
key
name
invalidPattern
value
Pattern
variable
name
must
match
pattern
module
module
name
ClassTypeParameterName
property
name
format
value
A
Z
A
Z
a
zA
T
message
key
name
invalidPattern
value
Class
type
name
must
match
pattern
module
record
Java
module
name
RecordComponentName
property
name
format
value
a
z
a
a
zA
message
key
name
invalidPattern
value
Record
component
name
must
match
pattern
module
record
Java
module
name
RecordTypeParameterName
property
name
format
value
A
Z
A
Z
a
zA
T
message
key
name
invalidPattern
value
Record
type
name
must
match
pattern
module
module
name
MethodTypeParameterName
property
name
format
value
A
Z
A
Z
a
zA
T
message
key
name
invalidPattern
value
Method
type
name
must
match
pattern
module
module
name
InterfaceTypeParameterName
property
name
format
value
A
Z
A
Z
a
zA
T
message
key
name
invalidPattern
value
Interface
type
name
must
match
pattern
module
finalize
module
name
NoFinalizer
module
name
GenericWhitespace
message
key
ws
followed
value
GenericWhitespace
is
followed
by
whitespace
message
key
ws
preceded
value
GenericWhitespace
is
preceded
with
whitespace
message
key
ws
illegalFollow
value
GenericWhitespace
should
followed
by
whitespace
message
key
ws
notPreceded
value
GenericWhitespace
is
not
preceded
with
whitespace
module
module
name
Indentation
property
name
basicOffset
value
property
name
braceAdjustment
value
property
name
caseIndent
value
property
name
throwsIndent
value
property
name
lineWrappingIndentation
value
property
name
arrayInitIndent
value
module
module
name
AbbreviationAsWordInName
property
name
ignoreFinal
value
false
property
name
allowedAbbreviationLength
value
property
name
tokens
value
module
module
name
OverloadMethodsDeclarationOrder
module
name
VariableDeclarationUsageDistance
import
module
name
CustomImportOrder
property
name
sortImportsInGroupAlphabetically
value
true
property
name
separateLineBetweenGroups
value
true
property
name
customImportOrderRules
value
STATIC
property
name
tokens
value
IMPORT
module
module
name
MethodParamPad
property
name
tokens
value
module
module
name
NoWhitespaceBefore
property
name
tokens
value
COMMA
SEMI
DOT
property
name
allowLineBreaks
value
true
module
module
name
ParenPad
property
name
tokens
value
ANNOTATION
DOT
EXPR
FOR
QUESTION
SPECIFICATION
LAMBDA
module
module
name
OperatorWrap
property
name
option
value
NL
property
name
tokens
value
BAND
BOR
BSR
BXOR
DIV
EQUAL
GE
GT
LAND
LE
INSTANCEOF
LOR
LT
MINUS
MOD
PLUS
QUESTION
SL
SR
STAR
module
module
name
AnnotationLocation
property
name
id
value
AnnotationLocationMostCases
property
name
tokens
value
module
module
name
AnnotationLocation
property
name
id
value
AnnotationLocationVariables
property
name
tokens
value
property
name
allowSamelineMultipleAnnotations
value
true
module
module
name
NonEmptyAtclauseDescription
module
name
InvalidJavadocPosition
module
name
JavadocTagContinuationIndentation
module
name
SummaryJavadoc
property
name
forbiddenSummaryFragments
value
return
the
This
method
returns
A
code
a
zA
is
a
module
p
module
name
JavadocParagraph
return
module
name
RequireEmptyLineBeforeBlockTagGroup
module
name
AtclauseOrder
property
name
tagOrder
value
param
return
throws
deprecated
property
name
target
value
module
public
module
name
JavadocMethod
property
name
scope
value
public
property
name
allowMissingParamTags
value
true
property
name
allowMissingReturnTag
value
true
property
name
allowedAnnotations
value
Override
Test
property
name
tokens
value
module
Override
module
name
MissingJavadocMethod
property
name
scope
value
public
property
name
minLineCount
value
property
name
allowedAnnotations
value
Override
Test
property
name
tokens
value
module
module
name
MissingJavadocType
property
name
scope
value
protected
property
name
tokens
value
property
name
excludeScope
value
nothing
module
module
name
MethodName
property
name
format
value
a
z
a
a
zA
message
key
name
invalidPattern
value
Method
name
must
match
pattern
module
module
name
SingleLineJavadoc
catch
module
name
EmptyCatchBlock
property
name
exceptionVariableName
value
expected
module
module
name
CommentsIndentation
property
name
tokens
value
module
https
checkstyle
org
html
SuppressionXpathFilter
module
name
SuppressionXpathFilter
property
name
file
value
org
checkstyle
google
suppressionxpathfilter
config
default
checkstyle
xpath
suppressions
xml
property
name
optional
value
true
module
module
module
FindBugs
FindBugs
Java
Checkstyle
FindBugs
Bug
Checkstyle
FindBugs
Checkstyle
FindBugs
Correctness
Bad
practice
String
Dodgy
code
Multithreaded
correctness
Malicious
code
vulnerability
Security
Experimental
Internationalization
FindBugs
FindBugs
IntelliJ
IDEA
Maven
Gradle
IntelliJ
IDEA
Maven
FindBugs
IntelliJ
IDEA
FindBugs
FindBugs
IntelliJ
IDEA
QAPlug
QAPlug
QAPlug
PMD
QAPlug
FindBugs
IntelliJ
IDEA
QAPlug
FindBugs
Maven
FindBugs
FindBugs
Maven
FindBugs
Maven
Pom
build
Maven
FindBugs
FindBugs
plugin
groupId
org
codehaus
mojo
groupId
artifactId
findbugs
maven
plugin
artifactId
version
version
configuration
effort
Max
effort
configuration
executions
execution
goals
goal
check
goal
goals
execution
executions
plugin
configuration
effort
effort
max
min
max
min
FindBugs
Maven
FindBugs
FindBugs
FindBugs
FindBugs
private
static
void
mathCalculate
double
double
double
if
System
out
println
public
class
Person
private
String
name
public
Person
String
name
this
name
name
public
String
name
return
name
Person
testPerson
new
Person
test
testPerson
name
Java
private
static
void
nullIssue
String
test
null
if
test
null
test
length
System
out
println
if
test
null
test
length
System
out
println
synchronized
JVM
private
static
final
String
lockField
private
static
void
deadLock
synchronized
lockField
System
out
println
throw
throw
private
static
void
noThrow
boolean
condition
false
if
condition
throw
new
RuntimeException
Dissatisfied
condition
private
static
void
equalsString
String
test
String
test
if
System
out
println
private
static
void
stringConcat
String
sting
test
String
Builder
for
int
i
i
i
sting
sting
Bug
private
static
void
forgotReturnValue
List
String
list
Arrays
asList
hello
map
list
stream
map
String
toUpperCase
String
hello
hello
hello
trim
for
Concurrent
ModificationException
private
static
void
arrayListRemoveException
ArrayList
String
list
new
ArrayList
for
for
String
item
list
list
remove
item
Java
private
static
void
forgotCloseStream
ByteArrayOutputStream
out
new
ByteArrayOutputStream
ObjectOutputStream
s
null
try
s
new
ObjectOutputStream
out
s
writeObject
catch
IOException
e
e
printStackTrace
Bug
private
static
void
objectCastIssue
long
number
int
int
number
FindBugs
FindBugs
ArchUnit
Checkstyle
FindBugs
MVC
DDD
API
Request
Response
Redis
Code
Review
ArchUnit
Java
ArchUnit
Java
Java
MVC
Controller
Service
Dao
DDD
Interface
Application
Domain
Infrastructure
DDD
Domain
driven
design
Eric
Evans
MVC
MVC
Controller
MVC
Controller
controller
Service
service
Dao
dao
View
Spring
Boot
Controller
RESTful
View
Service
Request
Controller
Service
Service
Controller
Model
Response
UserController
UserService
UserModel
UserDao
MVC
MVC
MVC
Controller
Service
Service
Dao
Dao
Service
MVC
Service
DDD
MVC
MVC
DDD
Interface
XML
WebSocket
JSON
Application
Domain
Infrastructure
Redis
DDD
MVC
Application
Domain
Domain
DDD
DDD
DDD
DDD
DDD
Controller
Service
Application
Domain
DDD
DDD
Domain
ArchUnit
MVC
ArchUnit
ArchUnit
ArchUnit
ArchUnit
ArchUnit
ASM
ArchUnit
ArchUnit
Spring
ArchUnit
API
Core
Lang
Library
ArchUnit
ArchUnit
JUnit
Runner
Maven
Gradle
JUnit
ArchUnit
ArchUnit
JUnit
JUnit
ArchUnit
JUnit
Maven
ArchUnit
dependency
groupId
junit
groupId
artifactId
junit
artifactId
version
version
scope
test
scope
dependency
dependency
groupId
com
tngtech
archunit
groupId
artifactId
archunit
artifactId
version
version
scope
test
scope
dependency
Demo
ArchUnit
Controller
Service
Dao
ArchUnitTest
Controller
Controller
Test
public
void
JavaClasses
importedClasses
new
ClassFileImporter
importPackages
this
getClass
getPackage
getName
classes
that
resideInAPackage
controller
should
haveSimpleNameEndingWith
Controller
check
importedClasses
classes
that
resideInAPackage
service
should
haveSimpleNameEndingWith
Service
check
importedClasses
classes
that
resideInAPackage
dao
should
haveSimpleNameEndingWith
Dao
check
importedClasses
importedClasses
ArchUnit
ClassFileImporter
JavaTypeImporter
ArchUnit
classes
that
resideInAPackage
controller
should
haveSimpleNameEndingWith
Controller
check
importedClasses
API
classes
ArchUnit
Lang
classes
that
ArchUnit
should
MVC
library
layeredArchitecture
Test
public
void
JavaClasses
importedClasses
new
ClassFileImporter
importPackages
this
getClass
getPackage
getName
Architectures
LayeredArchitecture
layeredArchitecture
layeredArchitecture
layer
Controller
definedBy
controller
layer
Service
definedBy
service
layer
Dao
definedBy
dao
whereLayer
Controller
mayNotBeAccessedByAnyLayer
whereLayer
Service
mayOnlyBeAccessedByLayers
Controller
whereLayer
Dao
mayOnlyBeAccessedByLayers
Service
layeredArchitecture
check
importedClasses
InteuiJ
IDEA
layeredArchitecture
controller
service
dao
Controller
Service
Dao
ArchUnit
ArchUnit
https
www
archunit
org
OWASP
Dependency
Check
OWASP
Dependency
Check
OWASP
Dependency
Check
CVE
Common
Vulnerabilities
Exposures
CVE
OWASP
Dependency
Check
Fortify
OWASP
Dependency
Check
OWASP
Dependency
Check
Java
OWASP
Maven
OWASP
Dependency
Check
OWASP
Maven
Checkstyle
Pom
plugin
groupId
org
owasp
groupId
artifactId
dependency
check
maven
artifactId
version
version
executions
execution
goals
goal
check
goal
goals
execution
executions
plugin
CI
CD
Jenkins
Jenkins
Release
Hotfix
Hotfix
Hotfix
Hotfix
IDE
Git
SVN
Mercurial
Git
Git
Git
GitLab
Github
Gitee
GitLab
GitLab
Gogs
Docker
Git
Beyond
Compare
IDE
Git
IntelliJ
IDEA
IntelliJ
IDEA
Gerrit
Gerrit
GitLab
Github
GitLab
IntelliJ
IDEA
if
switch
if
Hotfix
Hotfix
Hotfix
Hotfix
Hotfix
Hotfix
Java
Java
IntelliJ
IDEA
API
HashMap
ArrayList
API
Git
Git
Linux
Linus
Git
Git
Git
Git
Git
Git
Flow
GitHub
Flow
GitLab
Flow
Git
Flow
GitHub
Flow
GitLab
Flow
Hotfix
GitLab
Flow
Git
Git
rebase
merge
Release
Semantic
Versioning
Release
Release
Release
Release
Release
Release
Hotfix
Release
Git
Hooks
Checkstyle
Git
Git
Hooks
Shell
Hook
Git
git
hooks
Git
push
Git
pre
commit
prepare
commit
msg
commit
msg
post
commit
pre
receive
post
receive
update
pre
commit
Checkstyle
Git
pre
receive
Maven
mvn
install
git
build
hook
Hook
build
plugins
plugin
groupId
com
rudikershaw
gitbuildhook
groupId
artifactId
git
build
hook
maven
plugin
artifactId
version
version
configuration
gitConfig
Hook
gitconfig
core
hooksPath
hooks
directory
core
hooksPath
custom
configuration
true
custom
configuration
gitConfig
configuration
executions
execution
goals
install
Hook
goal
install
goal
goals
execution
executions
plugin
plugins
build
Pom
mvn
install
Git
pre
commit
hooks
directory
bin
sh
mvn
clean
build
RESULT
exit
RESULT
Gradle
Java
Gradle
pre
commit
pre
commit
Gradle
task
installGitHooks
type
Copy
from
new
File
rootProject
rootDir
pre
commit
into
new
File
rootProject
rootDir
git
hooks
fileMode
build
dependsOn
installGitHooks
Release
Git
Release
Release
GitLab
GitLab
Git
Flow
GitHub
Flow
GitLab
Flow
Git
Hooks
Git
JUnit
JUnit
Git
https
github
com
java
self
testing
java
self
testing
example
git
PHP
Node
js
Java
C
Java
main
main
Java
Maven
src
test
src
main
Test
xUnit
Before
Java
JUnit
Bug
Bug
TDD
IntelliJ
IDEA
JUnit
JUnit
AssertJ
JUnit
Java
Maven
JUnit
Mockito
JUnit
Java
JUnit
JUnit
Java
JDK
IntelliJ
IDEA
Maven
Eclipse
Gradle
IntelliJ
IDEA
Maven
Java
IntelliJ
IDEA
File
New
Project
Maven
Maven
pom
xml
JUnit
pom
xml
dependency
dependency
groupId
junit
groupId
artifactId
junit
artifactId
version
version
scope
test
scope
dependency
dependency
scope
test
JUnit
Jar
Maven
Hello
world
Hello
world
Hello
world
Hello
world
Hello
world
public
class
HelloWorld
public
static
String
hello
return
Hello
world
main
public
static
void
main
String
args
System
out
println
hello
Test
main
HelloWorldTest
public
Test
IDEA
public
main
C
C
ID
Hello
world
H
System
out
println
assertEquals
Test
public
void
assertEquals
Hello
world
HelloWorld
hello
assertEquals
Hello
world
System
out
println
JavaScript
function
assertEquals
description
expected
actual
if
expected
actual
throw
new
Error
ComparisonFailure
Expected
expected
Actual
actual
else
console
log
description
c
pass
color
function
assertEquals
test
hello
world
Hello
Hello
JUnit
assertEquals
assenTrue
assertTrue
JUnit
true
false
JUnit
assert
assertArrayEquals
Test
public
void
int
input
Arrays
sort
input
int
expected
assertArrayEquals
expected
array
should
be
sorted
expected
input
assertNotNull
Test
public
void
assertNotNull
should
not
be
null
Integer
valueOf
assertSame
Test
public
void
assertSame
Runtime
getRuntime
Runtime
getRuntime
assertTrue
Test
public
void
String
hello
Hello
assertTrue
hello
isEmpty
assertEquals
assertNotEquals
assertTrue
assertFalse
assertNull
assertNotNull
assertSame
assertNotSame
assertArrayEquals
assertThat
Matcher
JUnit
assertThat
Hamcrest
assertThat
Matcher
Matcher
Java
Matcher
Hamcrest
AssertJ
Hamcrest
JUnit
helloAndNow
Hello
world
assertEquals
assertThat
startsWith
Matcher
public
static
String
helloAndNow
return
Hello
world
System
currentTimeMillis
Test
public
void
assertThat
helloAndNow
startsWith
Hello
Matcher
Matcher
Matcher
Matcher
anything
assertThat
hamcrest
anything
describedAs
assertThat
hamcrest
describedAs
a
description
anything
is
assertThat
hamcrest
is
anything
allOf
assertThat
hamcrest
allOf
anything
anything
anything
anyOf
assertThat
hamcrest
anyOf
anything
anything
anything
not
assertThat
hamcrest
not
anything
equalTo
assertThat
hamcrest
equalTo
hamcrest
instanceOf
assertThat
hamcrest
instanceOf
String
class
notNullValue
assertThat
null
notNullValue
nullValue
assertThat
null
nullValue
sameInstance
assertThat
Runtime
getRuntime
sameInstance
Runtime
getRuntime
hasItems
assertThat
Arrays
asList
hasItems
Matcher
assertSame
Matcher
Matcher
Matcher
Matcher
Matcher
Matcher
public
class
CurrentSystemTimeMatcher
extends
TypeSafeMatcher
Long
private
final
long
timeWindow
public
CurrentSystemTimeMatcher
long
timeWindow
this
timeWindow
timeWindow
protected
boolean
matchesSafely
Long
time
System
out
println
System
currentTimeMillis
return
System
currentTimeMillis
time
timeWindow
public
void
describeTo
Description
description
description
appendText
current
time
not
in
range
timeWindow
param
return
public
static
CurrentSystemTimeMatcher
currentTimeEquals
long
timeWindow
return
new
CurrentSystemTimeMatcher
timeWindow
TypeSafeMatcher
CurrentSystemTimeMatcher
Pom
scope
test
Matcher
Matcher
currentTimeEquals
Test
public
void
long
now
System
currentTimeMillis
assertThat
now
currentTimeEquals
Java
assert
AssertionError
public
static
String
contactString
String
first
String
second
assert
first
null
assert
second
null
return
first
second
assert
public
static
float
calculateAA
float
totalPrice
float
counts
return
totalPrice
counts
Test
public
void
assertEquals
calculateAA
delta
Test
public
void
assertEquals
calculateAA
delta
assertEquals
assertEquals
assertEquals
assertEquals
Java
JUnit
Before
public
class
StringAppender
private
String
value
public
void
append
String
appendText
value
value
appendText
public
String
getValue
return
value
public
class
StringAppenderTest
StringAppender
stringAppender
Before
public
void
setup
stringAppender
new
StringAppender
Test
public
void
stringAppender
append
Hello
stringAppender
append
world
assertEquals
Hello
world
stringAppender
getValue
JUnit
BeforeClass
Before
After
AfterClass
After
AfterClass
Before
After
BeforeClass
Before
Test
After
AfterClass
Before
BeforeClass
BeforeClass
public
static
void
beforeClass
System
out
println
BeforeClass
Before
public
void
setup
System
out
println
Before
After
public
void
tearDown
System
out
println
After
AfterClass
public
static
void
afterClass
System
out
println
AfterClass
BeforeClass
Before
After
AfterClass
JUnit
JUnit
Test
public
static
boolean
isPalindrome
int
inputValue
if
inputValue
return
false
int
reverseValue
int
intermediateValue
inputValue
while
intermediateValue
reverseValue
reverseValue
intermediateValue
intermediateValue
return
reverseValue
inputValue
Happy
Path
Test
public
void
Given
int
inputValue
When
boolean
palindrome
isPalindrome
inputValue
Then
assertTrue
palindrome
Java
int
Java
int
Java
JavaScript
Integer
Integer
False
True
True
False
True
Integer
Integer
False
JUnit
Fizz
Buzz
Fizz
Buzz
n
fizz
buzz
fizz
buzz
null
public
static
String
simpleFizzBuzz
int
n
if
n
n
return
fizz
buzz
else
if
n
return
fizz
else
if
n
return
buzz
return
null
simpleFizzBuzz
null
n
n
fizz
buzz
n
fizz
n
buzz
Null
RunWith
Parameterized
class
public
class
ParameterizedPractiseTest
Parameterized
Parameters
public
static
Collection
Object
data
return
Arrays
asList
new
Object
Integer
false
true
true
false
true
Integer
false
private
int
input
private
boolean
expected
public
ParameterizedPractiseTest
int
input
boolean
expected
this
input
input
this
expected
expected
Test
public
void
test
assertEquals
expected
isPalindrome
input
RunWith
Parameterized
Runner
Runner
Runner
JUnit
Runner
Parameterized
Parameters
Parameterized
Parameters
name
index
Runner
JUnit
JUnitParamsRunner
Parameters
JUnitParamsRunner
Maven
RunWith
JUnitParamsRunner
class
public
class
PersonTest
Test
Parameters
false
true
public
void
int
age
boolean
valid
throws
Exception
assertThat
new
Person
age
isAdult
is
valid
Test
expected
assertThrows
Rule
dividend
divisor
mod
dividend
divisor
public
static
int
divide
int
dividend
int
divisor
int
result
float
remainder
dividend
while
remainder
divisor
result
remainder
remainder
divisor
return
result
divisor
DivideByZeroException
RuntimeException
if
divisor
throw
new
DivideByZeroException
Test
expected
Test
expected
Throwable
Test
expected
DivideByZeroException
class
public
void
assertEquals
divide
expected
try
catch
JUnit
try
catch
fail
DivideByZeroException
public
class
DivideByZeroException
extends
RuntimeException
public
DivideByZeroException
String
message
super
message
throw
new
DivideByZeroException
divisor
is
zero
try
catch
Test
public
void
try
divide
fail
Expected
DivideByZeroException
be
thrown
catch
DivideByZeroException
divideByZeroException
assertThat
divideByZeroException
getMessage
is
divisor
is
zero
divide
fail
fail
JUnit
fail
Rule
Rule
Rule
public
ExpectedException
thrown
ExpectedException
none
Test
public
void
throws
IndexOutOfBoundsException
thrown
expect
DivideByZeroException
class
thrown
expectMessage
divisor
is
zero
divide
expected
JUnit
JUnit
Java
Lambda
IDE
Run
xx
with
Coverage
IntelliJ
IDEA
IntelliJ
IDEA
Maven
Surefire
JaCoCo
JUnit
Rule
JUnit
Rule
JUnit
JUnit
TemporaryFolder
Rule
Rule
Rule
Rule
Rule
TestName
Rule
Rule
Rule
public
class
NameRuleTest
Rule
public
final
TestName
name
new
TestName
Test
public
void
testA
assertEquals
testA
name
getMethodName
Test
public
void
testB
assertEquals
testB
name
getMethodName
Rule
public
class
TestLogger
implements
TestRule
private
Logger
logger
public
Logger
getLogger
return
this
logger
Override
public
Statement
apply
final
Statement
base
final
Description
description
return
new
Statement
Override
public
void
evaluate
throws
Throwable
logger
Logger
getLogger
description
getTestClass
getName
description
getDisplayName
base
evaluate
CI
lgnore
Ignore
Ignore
Test
is
ignored
as
a
demonstration
Test
public
void
assertThat
is
JUnit
Test
timeout
timeout
JUnit
JUnit
Test
timeout
public
void
timeout
Rule
public
class
GlobalTimeoutPractiseTest
Rule
public
Timeout
globalTimeout
Timeout
seconds
Test
public
void
throws
Exception
Thread
sleep
Test
public
void
throws
Exception
Thread
sleep
Timeout
Rule
Rule
Before
After
JUnit
After
Suite
Runner
Suite
SuiteClasses
RunWith
Suite
class
Suite
SuiteClasses
HelloWorldTest
class
AssertPractiseTest
class
public
class
SuitesPractiseTest
No
tests
found
private
public
JUnit
public
Classpath
JUnit
initialization
error
IntelliJ
IDEA
Test
IntelliJ
IDEA
Test
JUnit
IntelliJ
IDEA
JUnit
IntelliJ
IDEA
Maven
Maven
IntelliJ
IDEA
JUnit
Test
Pom
scope
test
Test
JUnit
scope
test
test
Java
JUnit
JUnit
JUnit
JUnit
JUnit
JUnit
JUnit
JUnit
JUnit
JUnit
JUnit
JUnit
JUnit
JUnit
JUnit
Platform
JUnit
Jupiter
JUnit
Vintage
JUnit
Platform
JVM
Maven
Gradle
IDE
JUnit
Jupiter
JUnit
JUnit
Jupiter
JUnit
Vintage
JUnit
Vintage
JUnit
JUnit
JUnit
JUnit
JUnit
Jupiter
JUnit
JUnit
JUnit
JUnit
JUnit
Java
JUnit
Pom
dependency
groupId
org
junit
jupiter
groupId
artifactId
junit
jupiter
api
artifactId
version
version
scope
test
scope
dependency
dependency
groupId
org
junit
jupiter
groupId
artifactId
junit
jupiter
engine
artifactId
version
version
scope
test
scope
dependency
JUnit
JUnit
Vintage
API
HelloWorld
HelloWorld
org
junit
jupiter
api
import
cn
prinf
demos
junit
jupiter
HelloWorld
import
org
junit
jupiter
api
Test
import
static
org
junit
jupiter
api
Assertions
assertEquals
public
class
HelloWorldTest
Test
public
void
assertEquals
Hello
world
HelloWorld
hello
JUnit
Jupiter
Assertions
JUnit
Assert
JUnit
JUnit
JUnit
Test
Timeout
Timeout
Test
timeout
Before
After
BeforeEach
AfterEach
BeforeClass
AfterClass
BeforeAll
AfterAll
Disabled
Ignore
RepeatedTest
JUnit
Java
Lambda
JUnit
Rule
Test
expected
JUnit
Assertions
assertThrows
JUnit
assertThrows
Test
void
DivideByZeroException
divideByZeroException
assertThrows
DivideByZeroException
class
divide
assertEquals
divisor
is
zero
divideByZeroException
getMessage
Assertions
assertTimeout
Assertions
assertThrows
JUnit
JUnit
JUnit
import
cn
prinf
demos
junit
jupiter
HelloWorld
import
org
junit
jupiter
api
DisplayName
import
org
junit
jupiter
api
Nested
import
org
junit
jupiter
api
Test
import
static
org
junit
jupiter
api
Assertions
assertEquals
public
class
NestedTest
Test
DisplayName
Normal
test
public
void
assertEquals
Hello
world
HelloWorld
hello
Nested
DisplayName
Nested
testing
demonstration
class
NestedInnerDemoTest
Test
void
System
out
println
this
is
first
nested
test
Test
void
System
out
println
this
is
second
nested
test
JUnit
Runner
RunWith
Runner
Rule
JUnit
RunWith
ExtendWith
Rule
Spring
Runner
JUnit
RunWith
SpringRunner
class
public
class
MySpringUnitTest
JUnit
ExtendWith
SpringExtension
class
class
MySpringUnitTest
ExtendWith
Extension
JUnit
RunWith
Java
FIRST
FIRST
FIRST
Fast
Indepent
Repeatable
Self
Validatiny
Timely
setup
teardown
src
test
java
IDE
Test
Given
When
Then
Given
When
Then
Given
When
Then
Ignore
After
Java
Mockito
PowerMock
Mockito
public
PowerMock
Sytem
out
printf
xunitpatterns
com
Test
Double
Stubs
Stubs
Martin
Fowler
https
martinfowler
com
bliki
TestDouble
html
Test
Double
Dummy
Fake
Stub
Spy
Mock
Stub
Mockito
Stub
Stubbing
Spy
Mock
Dummy
Fake
Stub
Mock
Spy
Mock
Spy
Mockito
https
github
com
java
self
testing
java
self
testing
example
tree
master
stubs
Mockito
Mockito
Logo
Mojito
Mockito
Mockito
API
Mockito
JUnit
Stack
Overflow
GitHub
Mockito
mock
spy
mock
Mockito
spy
mock
Mockito
Mockito
PowerMock
PowerMock
Mockito
Mockito
Logo
Mockito
mock
stubs
UserService
register
Hash
public
class
UserService
private
UserRepository
userRepository
private
EmailService
emailService
private
EncryptionService
encryptionService
public
UserService
UserRepository
userRepository
EmailService
emailService
EncryptionService
encryptionService
this
userRepository
userRepository
this
emailService
emailService
this
encryptionService
encryptionService
public
void
register
User
user
user
setPassword
encryptionService
user
getPassword
userRepository
saveUser
user
String
emailSubject
Register
Notification
String
emailContent
Register
Account
successful
your
username
is
user
getUsername
emailService
sendEmail
user
getEmail
emailSubject
emailContent
Mockito
Spring
register
UserService
userRepository
emailService
encryptionService
Maven
Pom
Mockito
dependency
groupId
junit
groupId
artifactId
junit
artifactId
version
version
scope
test
scope
dependency
dependency
groupId
org
mockito
groupId
artifactId
mockito
core
artifactId
version
version
scope
test
scope
dependency
Mockito
Byte
Buddy
API
Mockito
public
class
UserServiceTest
Test
public
void
Mockito
UserRepository
mockedUserRepository
mock
UserRepository
class
EmailService
mockedEmailService
mock
EmailService
class
EncryptionService
mockedEncryptionService
mock
EncryptionService
class
UserService
userService
new
UserService
mockedUserRepository
mockedEmailService
mockedEncryptionService
Given
User
user
new
User
admin
test
com
admin
xxx
When
userService
register
user
Then
verify
mockedEmailService
sendEmail
eq
admin
test
com
eq
Register
Notification
eq
Register
Account
successful
your
username
is
admin
mock
mock
Mockito
Mockito
Mockito
Given
When
Then
BDD
Mockito
Given
When
Then
Mockito
BDDMockito
API
BDD
Given
When
Then
register
sendEmail
verify
verify
verify
mockedEmailService
sendEmail
eq
admin
test
com
eq
Register
Notification
eq
Register
Account
successful
your
username
is
admin
verify
mockedEmailService
verify
mockedEmailService
admin
test
com
eq
eq
assertThat
equalTo
eq
ArgumentMatchers
equalTo
Hamcrest
Matchers
verify
verify
verify
userRepository
saveUser
userRepository
saveUser
Java
verify
ArgumentCaptor
Argument
ArgumentCaptor
User
argument
ArgumentCaptor
forClass
User
class
verify
mockedUserRepository
saveUser
argument
capture
assertEquals
admin
test
com
argument
getValue
getEmail
assertEquals
admin
argument
getValue
getUsername
register
encryptionService
Hash
null
false
when
thenReturn
any
any
any
any
Class
T
type
ArgumentMatchers
eq
contains
when
mockedEncryptionService
any
thenReturn
when
thenReturn
thenThrow
thenCallRealMethod
thenAnswer
Answer
Answer
Answer
Mockito
Mockito
Mockito
Mockito
Mockito
do
when
when
thenReturn
when
do
when
doThrow
new
RuntimeException
when
mockedList
clear
mockedList
clear
do
doReturn
doThrow
doNothing
doCallRealMethod
doAnswer
doAnswer
doAnswer
when
BDD
Given
When
Then
Mockito
API
when
BDD
Mockito
BDD
API
API
BDD
Mockito
Mockito
BDD
BDD
When
given
Then
will
given
mockedEncryptionService
any
willReturn
Mockito
Mock
JUnit
Mockito
verify
ArgumentMatchers
API
Mockito
ArgumentMatchers
any
any
true
List
mockedList
mock
List
class
when
mockedList
add
any
thenReturn
true
System
out
println
mockedList
add
null
any
Class
anyxxx
false
Mockito
List
mockedList
mock
List
class
any
Boolean
class
when
mockedList
add
anyBoolean
thenReturn
true
System
out
println
mockedList
add
null
null
null
List
mockedList
mock
List
class
isNull
when
mockedList
add
eq
null
thenReturn
false
System
out
println
mockedList
add
null
verify
mockedList
add
isNull
assertThat
mockedList
get
nullValue
assertThat
mockedList
get
equalTo
null
assertThat
mockedList
get
new
IsNull
spy
B
B
A
A
A
A
spy
spy
spy
mock
Mockito
spy
given
spy
EncryptionService
public
String
String
text
MessageDigest
md
null
try
md
MessageDigest
getInstance
SHA
return
new
BigInteger
md
digest
text
getBytes
toString
catch
NoSuchAlgorithmException
e
e
printStackTrace
return
null
register
EncryptionService
mock
spy
mockedEncryptionService
Given
EncryptionService
mockedEncryptionService
spy
new
EncryptionService
mock
spy
spy
spy
register
verify
mockedEncryptionService
eq
xxx
mock
spy
Java
mock
spy
Mock
UserRepository
mockedUserRepository
Mock
EmailService
mockedEmailService
Spy
EncryptionService
mockedEncryptionService
new
EncryptionService
Runner
Mockito
Runner
RunWith
MockitoJUnitRunner
class
Mockito
MockitoJUnitRunner
PowerMockRunner
PowerMock
SpringRunner
Spring
Mock
mock
Spy
spy
Mockito
InjectMocks
InjectMocks
GitHub
RunWith
MockitoJUnitRunner
class
public
class
UserServiceAnnotationTest
Mock
UserRepository
mockedUserRepository
Mock
EmailService
mockedEmailService
Spy
EncryptionService
mockedEncryptionService
new
EncryptionService
InjectMocks
UserService
userService
Test
public
void
Given
User
user
new
User
admin
test
com
admin
xxx
When
userService
register
user
Then
verify
mockedEncryptionService
eq
xxx
verify
mockedEmailService
sendEmail
eq
admin
test
com
eq
Register
Notification
eq
Register
Account
successful
your
username
is
admin
ArgumentCaptor
ArgumentCaptor
User
argument
ArgumentCaptor
forClass
User
class
verify
mockedUserRepository
saveUser
argument
capture
assertEquals
admin
test
com
argument
getValue
getEmail
assertEquals
admin
argument
getValue
getUsername
assertEquals
argument
getValue
getPassword
Mockito
Mockito
reset
Mockito
reset
Mockito
EncryptionService
mockedEncryptionService
mock
EncryptionService
class
given
mockedEncryptionService
any
willReturn
MockingDetails
mockingDetails
Mockito
mockingDetails
mockedEncryptionService
System
out
println
mockingDetails
isMock
System
out
println
mockingDetails
getStubbings
true
encryptionService
any
stubbed
with
Returns
Lambda
Matcher
Lambda
argThat
ArgumentMatcher
matches
Java
Lambda
mockedEncryptionService
verify
mockedEncryptionService
argThat
new
ArgumentMatcher
String
Override
public
boolean
matches
String
argument
return
argument
equals
xxx
Lambda
verify
mockedEncryptionService
argThat
argument
return
argument
equals
xxx
verify
mockedEncryptionService
argThat
argument
argument
equals
xxx
Mockito
System
currentTimeMillis
public
Mockito
PowerMock
PowerMock
powermock
api
mockito
Mockito
PowerMock
PowerMock
PowerMock
PowerMock
Mockito
Mockito
PowerMock
https
github
com
java
self
testing
java
self
testing
example
tree
master
powermock
User
createAt
createAt
register
User
public
class
User
private
String
email
private
String
username
private
String
password
private
Instant
createAt
public
User
String
email
String
username
String
password
Instant
createAt
this
email
email
this
username
username
this
password
password
this
createAt
createAt
User
Instant
now
user
setCreateAt
Instant
now
Instant
now
PowerMock
PowerMock
JUnit
Mockito
JUnit
Mockito
powermock
api
Mockito
dependency
groupId
org
powermock
groupId
artifactId
powermock
module
artifactId
version
version
scope
test
scope
dependency
dependency
groupId
org
powermock
groupId
artifactId
powermock
api
artifactId
version
version
scope
test
scope
dependency
PowerMockRunner
Mockito
Runner
PrepareForTest
RunWith
PowerMockRunner
class
PrepareForTest
UserService
class
Instant
UserService
Instant
moment
Instant
ofEpochSecond
PowerMockito
mockStatic
Instant
class
PowerMockito
when
Instant
now
thenReturn
moment
Instant
now
PowerMock
Mockito
Mockito
API
PowerMock
Mockito
RunWith
PowerMockRunner
class
PrepareForTest
PrepareForTest
UserService
class
public
class
UserServiceAnnotationTest
Mock
UserRepository
mockedUserRepository
Mock
EmailService
mockedEmailService
Spy
EncryptionService
mockedEncryptionService
new
EncryptionService
InjectMocks
UserService
userService
Test
public
void
Instant
Instant
moment
Instant
ofEpochSecond
PowerMockito
mockStatic
Instant
class
PowerMockito
when
Instant
now
thenReturn
moment
Given
User
user
new
User
admin
test
com
admin
xxx
null
When
userService
register
user
Then
verify
mockedEmailService
sendEmail
eq
admin
test
com
eq
Register
Notification
eq
Register
Account
successful
your
username
is
admin
ArgumentCaptor
User
argument
ArgumentCaptor
forClass
User
class
verify
mockedUserRepository
saveUser
argument
capture
assertEquals
admin
test
com
argument
getValue
getEmail
assertEquals
admin
argument
getValue
getUsername
assertEquals
argument
getValue
getPassword
assertEquals
moment
argument
getValue
getCreateAt
PowerMock
PrepareForTest
UserService
Instant
now
UserService
UserService
Instant
PowerMock
PrepareForTest
PowerMockRunner
Instant
now
PowerMock
verifyStatic
PowerMockito
verifyStatic
Static
class
Static
thirdStaticMethod
Mockito
anyInt
verifyStatic
new
PowerMock
new
PowerMock
PowerMock
whenNew
PowerMock
UserService
register
public
void
register
User
user
user
setPassword
encryptionService
user
getPassword
user
setCreateAt
Instant
now
userRepository
saveUser
user
sendEmail
user
new
new
LogService
log
finished
register
action
whenNew
Given
User
user
new
User
admin
test
com
admin
xxx
null
LogService
mockedLogService
mock
LogService
class
whenNew
LogService
class
withNoArguments
thenReturn
mockedLogService
When
userService
register
user
Then
Mockito
verify
mockedLogService
log
any
Mockito
new
PowerMock
verifyNew
LogService
class
withNoArguments
PowerMock
PowerMock
PowerMockito
when
Mockito
Java
PowerMockito
when
Mockito
API
LogService
PowerMock
PowerMock
public
class
LogService
public
void
log
String
content
content
private
void
String
content
System
out
println
content
RunWith
PowerMockRunner
class
PrepareForTest
LogService
class
public
class
PrivateTest
Test
public
void
throws
Exception
LogService
logService
mock
LogService
class
PowerMockito
doNothing
when
logService
any
logService
log
test
data
UserService
LogService
LogService
PrepareForTest
LogService
UserService
UserService
PrepareForTest
UserService
UserService
when
spy
Person
name
Person
person
new
Person
Class
clazz
Person
class
Field
field
clazz
getDeclaredField
name
field
setAccessible
true
field
set
person
new
name
Mockito
PowerMock
Java
LogService
prefix
private
String
prefix
warning
private
void
String
content
System
out
println
prefix
content
Mockito
PowerMock
FieldSetter
LogService
logService
new
LogService
FieldSetter
setField
logService
LogService
class
getDeclaredField
prefix
error
logService
log
test
data
test
src
main
java
src
test
java
PowerMock
Whitebox
Whitebox
invokeMethod
testObj
new
Long
Arrange
Act
Assert
four
phase
Test
JUnit
Beforexxx
Afterxxx
Brian
Foote
Joseph
Yoder
SOLID
Service
Entity
DTO
PowerMock
Spring
Spring
Spring
Java
JUnit
Mockito
Spring
Java
Spring
Spring
TDD
Spring
Spring
Boot
Spring
Spring
Boot
JUnit
JUnit
JUnit
JUnit
JUnit
JUnit
Spring
https
github
com
java
self
testing
java
self
testing
example
tree
master
spring
Spring
Spring
Spring
Spring
Spring
Spring
Test
Spring
Boot
Spring
Boot
Test
Spring
Spring
Spring
spring
boot
Spring
Spring
spring
boot
autoconfigure
spring
mvc
Web
MVC
spring
security
core
Web
spring
boot
starter
Pom
spring
test
Runner
MockMvc
spring
mvc
Spring
Framework
spring
boot
test
SpringBootTest
spring
security
test
Spring
Spring
JUnit
Java
Hamcrest
JUnit
AssertJ
Mockito
JSONassert
JSON
API
JsonPath
XPath
JSON
Spring
Boot
JavaFX
Spring
Boot
Spring
Boot
JUnit
Spring
IOC
Bean
Spring
Test
Runner
Mockito
Spring
Spring
Boot
Controller
Spring
Boot
Test
Spring
Boot
Spring
Boot
Spring
Boot
spring
boot
starter
test
spring
boot
starter
test
JUnit
Mockito
Spring
Spring
Pom
dependency
groupId
org
springframework
boot
groupId
artifactId
spring
boot
starter
test
artifactId
scope
test
scope
dependency
Spring
Bean
Spring
Boot
Spring
Spring
Boot
Web
Controller
Service
Entity
Mapper
Spring
MyBatis
Service
Service
UserService
UserService
UserMapper
UserService
UserMapper
Service
public
class
UserService
public
static
final
String
KEY
Autowired
private
UserMapper
userMapper
public
User
add
User
user
user
setCreateAt
Instant
now
user
setUpdateAt
Instant
now
user
setPassword
hash
user
getPassword
userMapper
insert
user
return
user
public
List
User
listAll
return
userMapper
selectAll
private
String
hash
String
text
Spring
return
new
HmacUtils
HmacAlgorithms
KEY
hmacHex
text
Spring
Autowired
UserMapper
UserMapper
Mockito
PowerMock
FieldSetter
Spring
Test
ReflectionTestUtils
Spring
private
final
UserMapper
userMapper
public
UserService
UserMapper
userMapper
this
userMapper
userMapper
Spring
SpringExtension
Spring
JUnit
Runner
Extension
RunWith
ExtendWith
UserServiceTest
SpringExtension
JUnit
Mockito
MockitoExtension
ExtendWith
SpringExtension
class
public
class
UserServiceTest
InjectMocks
private
UserService
userService
Mock
private
UserMapper
userMapper
Test
public
void
userService
listAll
Mockito
verify
userMapper
selectAll
Test
public
void
Spring
Boot
User
user
new
User
setUsername
zhangsan
setPassword
userService
add
user
ArgumentCaptor
User
argument
ArgumentCaptor
forClass
User
class
Mockito
verify
userMapper
insert
argument
capture
assertEquals
zhangsan
argument
getValue
getUsername
assertEquals
argument
getValue
getPassword
assertNotNull
argument
getValue
getCreateAt
assertNotNull
argument
getValue
getUpdateAt
SpringExtension
Mockito
SpringExtension
MockitoExtension
Spring
Service
SpringExtension
spring
test
Spring
Boot
JUnit
Extension
ExtendWith
SpringExtension
class
RunWith
SpringRumner
class
SpringRunner
final
Runner
Spring
Boot
Service
Mapper
Spring
Boot
SpringExtension
Autowired
Spring
Test
Spring
Boot
Bean
Spring
Boot
SpringBootTest
Spring
Boot
Spring
Boot
SpringBootTest
Spring
MVC
UserServiceTest
UserMapper
SpringBootTest
test
Application
SpringBootTest
Spring
SpringBootTest
ExtendWith
SpringExtension
class
JUnit
RunWith
SpringBootTest
public
class
ApplicationTest
Autowired
private
UserService
userService
Test
public
void
userService
listAll
Test
public
void
User
user
new
User
setUsername
zhangsan
setPassword
userService
add
user
userService
SpringBootTest
UserMapper
Service
Mapper
Mapper
Bean
MyBatis
MyBatis
mybatis
spring
boot
starter
Pom
dependency
groupId
org
mybatis
spring
boot
groupId
artifactId
mybatis
spring
boot
starter
artifactId
version
version
dependency
dependency
groupId
com
groupId
artifactId
artifactId
scope
test
scope
dependency
mybatis
spring
boot
starter
Mapper
Starter
Spring
Boot
API
API
Spring
Test
JdbcTestUtils
JdbcTemplate
JdbcTestUtils
JdbcTemplate
Autowired
private
JdbcTemplate
jdbcTemplate
Test
public
void
User
user
new
User
setUsername
zhangsan
setPassword
userService
add
user
int
count
JdbcTestUtils
countRowsInTable
jdbcTemplate
user
assertEquals
count
SpringBootTest
SpringBootTest
Web
WebEnvironment
Web
Web
SpringBootTest
webEnvironment
SpringBootTest
WebEnvironment
MOCK
Web
Web
NONE
Web
Web
classes
SpringBootTest
webEnvironment
SpringBootTest
WebEnvironment
classes
Application
class
Spring
Boot
Bean
classes
common
Admin
Spring
classes
SpringBootTest
value
Profile
SpringBootTest
value
server
port
Bean
Runner
Runner
JUnit
SpringExtension
Runner
Spring
Bean
Spring
Mock
Autowired
Spring
Boot
Spring
Boot
Test
MockBean
MockBean
SpringBoot
MockBean
Bean
Spring
Boot
Test
SpringExtension
UserServiceTest
UserMapper
InjectMocks
UserService
Bean
ExtendWith
SpringExtension
class
public
class
UserServiceTest
InjectMocks
private
UserService
userService
Mock
private
UserMapper
userMapper
MockBean
InjectMocks
Autowired
UserService
Bean
SpringBootTest
public
class
UserServiceMockBeanTest
Autowired
private
UserService
userService
MockBean
UserMapper
private
UserMapper
userMapper
Test
Spring
Boot
public
void
userService
listAll
Mockito
verify
userMapper
selectAll
MockBean
Mockito
Bean
ApplicationContext
MockBean
Configuration
Spring
ApplicationContext
MockBean
MockBean
Bean
MockBean
Bean
Bean
Bean
SpyBean
Bean
Spring
Test
Bean
Bean
Spring
Boot
Profile
Profile
Bean
Profile
Bean
YAML
YAML
YAML
application
yml
test
resources
server
port
logging
file
logs
application
log
logging
level
org
springframework
web
DEBUG
spring
datasource
url
jdbc
mem
console
enabled
true
mybatis
mapper
locations
classpath
mapper
xml
Spring
Boot
SpringBootTest
Spring
Web
Tomcat
MyBatis
JPA
SpringBootTest
MyBatis
Mapper
MybatisTest
Controller
Web
MockMvc
spring
boot
test
autoconfigure
Test
SpringBootTest
Test
AutoConfigure
Test
Bean
Testing
Slices
WebMvcTest
RequestMapping
Bean
Controller
ControllerAdvice
JsonComponent
Converter
GenericConverter
Filter
WebMvcConfigurer
HandlerMethodArgumentResolver
MockMvc
WebMvcTest
Controller
Bean
Controller
WebMvcTest
UserController
class
public
class
ApplicationTestOnlyController
Autowired
private
MockMvc
mvc
MockBean
private
UserService
userService
Test
public
void
throws
Exception
Instant
createAndUpdateInstant
Instant
parse
given
this
userService
listAll
willReturn
Lists
newArrayList
new
User
James
create
AndUpdateInstant
createAndUpdateInstant
this
mvc
perform
MockMvcRequestBuilders
get
users
accept
MediaType
andExpect
status
isOk
andExpect
content
string
id
username
James
password
createAt
updateAt
Spring
Boot
Spring
MVC
Spring
Boot
UserService
Spring
Boot
Spring
MVC
Web
Controller
WebMvcTest
Bean
UserController
Controller
WebMvcTest
SpringBootTest
WebMvcTest
Spring
WebMvcTest
BootstrapWith
WebMvcTestContextBootstrapper
class
ExtendWith
SpringExtension
class
OverrideAutoConfiguration
enabled
false
TypeExcludeFilters
WebMvcTypeExcludeFilter
class
AutoConfigureCache
AutoConfigureWebMvc
AutoConfigureMockMvc
ImportAutoConfiguration
SpringBootTest
SpringBootTestContextBootstrapper
SpringBootTest
BootstrapWith
SpringBootTestContextBootstrapper
class
ExtendWith
SpringExtension
class
MyBatis
Mapper
Redis
Spring
Data
JPA
MybatisTest
MyBatis
mybatis
spring
boot
autoconfigure
MyBatis
mybatis
spring
boot
starter
test
mybatis
spring
boot
test
autoconfigure
dependency
groupId
org
mybatis
spring
boot
groupId
artifactId
mybatis
spring
boot
starter
test
artifactId
version
version
dependency
Mapper
MybatisTest
Mapper
Bean
Starter
MybatisTest
public
class
TestForMapper
Autowired
Spring
private
UserMapper
userMapper
Test
void
User
user
new
User
setUsername
zhangsan
setPassword
setCreateAt
Instant
now
setUpdateAt
Instant
now
userMapper
insert
user
JsonTest
JSON
JsonTest
JSON
JsonTest
public
class
TestForJson
Autowired
private
ObjectMapper
objectMapper
Test
void
throws
JsonProcessingException
User
user
new
User
setUsername
zhangsan
setPassword
setCreateAt
Instant
now
setUpdateAt
Instant
now
assertEquals
id
username
zhangsan
password
createAt
updateAt
this
objectMapper
writeValueAsString
user
Spring
Boot
AssertJ
JSONAssert
JsonPath
Path
JSON
JacksonTester
JSON
Helper
Autowired
private
JacksonTester
User
userJacksonTester
Test
void
throws
IOException
User
user
new
User
setUsername
zhangsan
setPassword
setCreateAt
Instant
now
setUpdateAt
Instant
now
assertThat
this
userJacksonTester
write
user
hasJsonPath
username
assertThat
this
userJacksonTester
write
user
extractingJsonPathStringValue
username
isEqualTo
zhangsan
Test
WebMvcTest
Bean
AutoConfigure
Bean
Bean
Configuration
Spring
Boot
Spring
SpringBoot
Controller
Service
Repository
DAO
Mapper
Web
Spring
Spring
JUnit
Mockito
Spring
Controller
API
API
API
Service
API
API
Web
Web
Spring
Web
MyBatis
Mapper
Spring
Controller
MockMvc
Controller
new
Controller
MockMvc
Web
Controller
Service
DataJpaTest
MybatisTest
Service
Spring
Boot
Bean
UserService
UserService
Bean
Mapper
Controller
MockMvc
Service
Mapper
Repository
Controller
Controller
MockMvc
MockMvc
MockMvc
WebMvcTest
Bean
UserController
RequestMapping
MockMvc
HTTP
MockMvc
WebMvcTest
UserController
Service
MockBean
Bean
MockBean
Mockito
given
MockMvc
WebMvcTest
MockMvc
SpringBootTest
SpringBootTest
WebMvcTest
MockMvc
https
docs
spring
io
WebMvcTest
MockMvc
Bean
WebMvcTest
MockMvc
Web
HTTP
Web
Test
public
void
throws
Exception
UserService
given
userService
listAll
willReturn
Arrays
asList
new
User
setId
setUsername
Test
user
Spring
setPassword
setCreateAt
Instant
now
setUpdateAt
Instant
now
this
mvc
perform
get
users
accept
MediaType
andExpect
status
isOk
this
mvc
perform
Web
MockMvc
HTTP
TestDispatcherServlet
Servlet
RequestMappingHandlerAdapter
Controller
get
accept
application
json
MockHttpServletRequestBuilder
builder
MockMvcRequestBuilders
get
users
accept
MediaType
ResultActions
ResultActions
perform
this
mvc
perform
builder
ResultMatcher
okMatcher
MockMvcResultMatchers
status
isOk
perform
andExpect
okMatcher
MockHttpServletRequestBuilder
GET
POST
PUT
DELETE
HTTP
URL
get
String
urITemplate
Object
uriVars
POST
content
multipart
ResultActions
ResultMatcher
JSON
JsonPath
Cookies
Redis
MongoDB
Java
Jar
Java
C
Redis
Redis
Java
ProcessBuilder
API
HSQL
HSQL
Spring
Boot
Pom
dependency
groupId
com
groupId
artifactId
artifactId
scope
test
scope
dependency
spring
datasource
url
jdbc
mem
console
enabled
true
console
spring
console
path
Flyway
mem
spring
datasource
url
jdbc
file
data
Redis
Redis
Redis
Redis
Redis
Redis
Spring
Boot
Redis
dependency
groupId
com
github
kstyrc
groupId
artifactId
embedded
redis
artifactId
version
version
scope
test
scope
dependency
setup
teardown
Redis
Spring
public
class
SpringBaseTest
private
RedisServer
redisServer
BeforeClass
public
void
setup
throws
Exception
redisServer
new
RedisServer
redisServer
start
AfterClass
public
void
teardown
throws
Exception
redisServer
stop
MongoDB
Spring
Boot
MongoDB
YAML
dependency
groupId
de
flapdoodle
embed
groupId
artifactId
de
flapdoodle
embed
mongo
artifactId
version
SNAPSHOT
version
scope
test
scope
dependency
Spring
Boot
MongoAutoConfiguration
MongoDB
MongoClient
YAML
spring
data
mongodb
port
spring
boot
starter
test
Spring
Test
spring
boot
test
Mockito
JsonPath
Spring
Test
Spring
Test
JdbcTestUtils
JdbcTestUtils
Spring
Test
JdbcTestUtils
JdbcTemplate
JdbcTestUtils
countRowslnTable
countRowslnTableWhere
deleteFromTables
deleteFromTableWhere
dropTables
ReflectionTestUtils
PowerMock
Spring
Test
User
user
new
User
setUsername
zhangsan
setPassword
ReflectionTestUtils
setField
user
username
wang
assertThat
user
getUsername
equalTo
wang
assertThat
ReflectionTestUtils
getField
user
username
equalTo
wang
user
testPrivateMethod
assertThat
ReflectionTestUtils
invokeMethod
user
testPrivateMethod
equalTo
this
is
private
method
ReflectionTestUtils
Autowired
Value
spring
boot
test
spring
boot
test
TestPropertyValues
Value
Spring
Boot
TestPropertyValues
ContextConfiguration
TestPropertyValues
SpringBootTest
ContextConfiguration
initializers
PropertyTest
MyPropertyInitializer
class
public
class
PropertyTest
Spring
Autowired
private
ApplicationContext
context
Value
testProperty
private
String
testProperty
Test
public
void
test
assertThat
testProperty
isEqualTo
foo
assertThat
this
context
getEnvironment
getProperty
testProperty
isEqualTo
foo
static
class
MyPropertyInitializer
implements
ApplicationContextInitializer
ConfigurableApplicationContext
Override
public
void
initialize
ConfigurableApplicationContext
applicationContext
TestPropertyValues
of
testProperty
foo
applyTo
applicationContext
SpringBootTest
value
properties
args
OutputCapture
Spring
Boot
OutputCaptureExtension
System
out
System
err
ExtendWith
OutputCaptureExtension
class
public
class
OutputCaptureTest
Test
public
void
CapturedOutput
output
throws
Exception
System
out
println
Hello
world
assertThat
output
contains
world
TestRestTemplate
TestRestTemplate
RestTemplate
ResponseEntity
Apache
HTTP
Client
HTTP
Apache
HTTP
Client
HTTP
location
TestRestTemplate
Cookies
HTTP
Spring
Boot
spring
boot
test
spring
boot
autoconfigure
spring
test
Spring
Test
Mockito
Spring
Boot
Java
RESTful
API
API
API
Curl
Postman
Swagger
UI
API
CI
API
API
RESTful
API
API
RESTful
API
Spring
Boot
spring
boot
starter
test
API
Spring
REST
Assured
API
DbUnit
WireMock
API
Spring
MockMvc
API
API
API
MockMvc
Web
Controller
RESTful
API
Controller
API
REST
Assured
Karate
DSL
REST
Assured
API
MockMvc
REST
Assured
REST
Assured
REST
Assured
Johan
Haleby
Jayway
MockMvc
REST
Assured
Java
DSL
API
Given
When
Then
given
param
param
when
post
somewhere
then
body
containsString
OK
Given
When
Then
API
REST
Assured
xml
path
json
path
json
path
spring
boot
starter
test
JSON
REST
Assured
HTTP
Web
SpringBootTest
Web
RESTAssured
MockMvc
Maven
Spring
dependency
groupId
io
rest
assured
groupId
artifactId
rest
assured
artifactId
version
version
scope
test
scope
dependency
RESTAssured
SpringBootTest
webEnvironment
classes
Application
class
LocalServerPort
private
int
port
BeforeEach
RESTful
API
public
void
setup
System
out
println
port
port
RestAssured
port
port
RestAssured
basePath
api
RestAssured
enableLoggingOfRequestAndResponseIfValidationFails
LocalServerPort
SpringBootTest
setup
REST
Assured
API
REST
Assured
mock
MariaDB
MySQL
SQL
MariaDB
MySQL
MariaDB
MariaDB
MySQL
MySQL
Spring
Boot
DataSource
dependency
groupId
ch
vorburger
groupId
artifactId
artifactId
version
version
scope
test
scope
dependency
Bean
Spring
Boot
Configuration
public
class
Autowired
private
DataSourceProperties
dataSourceProperties
Bean
public
new
getConfiguration
addArg
user
root
RESTful
API
getConfiguration
addArg
character
set
server
return
Bean
Primary
public
DataSource
dataSource
throws
ManagedProcessException
String
dbname
UUID
randomUUID
toString
substring
getDB
createDB
dbname
return
DataSourceBuilder
create
driverClassName
dataSourceProperties
getDriverClassName
url
getConfiguration
getURL
dbname
username
dataSourceProperties
getUsername
password
dataSourceProperties
getPassword
build
Lifecycle
API
Spring
Spring
DataSource
Bean
DataSource
DataSourceProperties
YAML
application
yml
MySQL
DbUnit
DbUnit
DbUnit
Flyway
Flyway
Flyway
DbUnit
DbUnit
dependency
groupId
org
dbunit
groupId
artifactId
dbunit
artifactId
version
version
scope
test
scope
dependency
DbUnit
IDataSet
CSV
XML
SQL
RESTful
API
DbUnit
DbUnit
DbUnit
DatabaseOperation
Service
public
class
ResetDbService
private
static
IDatabaseConnection
connection
Autowired
private
DataSource
dataSource
private
File
tempFile
public
void
backup
throws
Exception
this
getConnection
this
backupCustom
public
void
rollback
throws
Exception
this
reset
this
closeConnection
protected
void
backupCustom
try
QueryDataSet
queryDataSet
new
QueryDataSet
connection
queryDataSet
addTable
user
tempFile
new
File
temp
xml
FlatXmlDataSet
write
queryDataSet
new
FileWriter
tempFile
UTF
catch
Exception
e
e
printStackTrace
void
getConnection
throws
DatabaseUnitException
connection
new
DatabaseConnection
DataSourceUtils
getConnection
dataSource
API
protected
void
reset
throws
FileNotFoundException
DatabaseUnitException
SQLException
FlatXmlDataSetBuilder
builder
new
FlatXmlDataSetBuilder
builder
setColumnSensing
true
IDataSet
dataSet
builder
build
new
FileInputStream
tempFile
DatabaseOperation
execute
connection
dataSet
protected
void
closeConnection
throws
SQLException
if
connection
null
connection
close
ResetDbService
backup
rollback
backup
rollback
API
GitHub
https
github
com
java
self
testing
java
self
testing
example
tree
master
api
RESTful
API
xml
version
encoding
UTF
project
xmlns
http
maven
apache
org
POM
xmlns
xsi
http
www
org
XMLSchema
instance
xsi
schemaLocation
http
maven
apache
org
POM
http
maven
apache
org
xsd
maven
xsd
parent
groupId
org
springframework
boot
groupId
artifactId
spring
boot
starter
parent
artifactId
version
version
parent
modelVersion
modelVersion
artifactId
api
artifactId
dependencies
dependency
groupId
org
projectlombok
groupId
artifactId
lombok
artifactId
dependency
dependency
groupId
org
springframework
boot
groupId
artifactId
spring
boot
starter
web
artifactId
dependency
dependency
groupId
org
springframework
boot
groupId
artifactId
spring
boot
starter
data
jpa
artifactId
dependency
dependency
groupId
org
flywaydb
groupId
artifactId
flyway
core
artifactId
dependency
dependency
groupId
mysql
groupId
artifactId
mysql
connector
java
artifactId
version
version
dependency
dependency
groupId
org
springframework
boot
groupId
artifactId
spring
boot
starter
test
artifactId
scope
test
scope
dependency
dependency
groupId
ch
vorburger
groupId
artifactId
artifactId
version
version
scope
test
scope
dependency
dependency
groupId
io
rest
assured
groupId
artifactId
rest
assured
artifactId
version
version
API
scope
test
scope
dependency
dependency
groupId
org
dbunit
groupId
artifactId
dbunit
artifactId
version
version
scope
test
scope
dependency
dependencies
build
plugins
plugin
groupId
org
springframework
boot
groupId
artifactId
spring
boot
maven
plugin
artifactId
configuration
finalName
project
artifactId
finalName
outputDirectory
package
outputDirectory
configuration
plugin
plugin
groupId
org
apache
maven
plugins
groupId
artifactId
maven
compiler
plugin
artifactId
configuration
source
source
target
target
configuration
plugin
plugins
build
project
API
RestController
RequestMapping
api
users
public
class
UserController
Autowired
UserService
userService
GetMapping
public
ResponseEntity
List
User
getAll
return
ResponseEntity
ok
userService
listAll
PostMapping
public
ResponseEntity
addUser
RequestBody
AddUserRequest
addUserRequest
User
savedUser
userService
add
addUserRequest
return
ResponseEntity
created
URI
create
api
users
savedUser
getId
build
RESTful
API
TestBase
SpringBootTest
webEnvironment
classes
Application
class
TestExecutionListeners
DependencyInjectionTestExecutionListener
class
ResetDbListener
class
public
abstract
class
TestBase
LocalServerPort
private
int
port
BeforeEach
public
void
setUp
System
out
println
port
port
RestAssured
port
port
RestAssured
basePath
api
RestAssured
enableLoggingOfRequestAndResponseIfValidationFails
TestExecutionListeners
JUnit
BeforeEach
AfterEach
TestExecutionListener
TestExecutionListener
DependencylnjectionTestExecutionListener
LocalServerPort
Value
TransactionalTestExecutionListener
DbUnit
DbUnit
TransactionalTestExecutionListener
API
TransactionalTestExecutionListener
ResetDbListener
public
class
ResetDbListener
extends
AbstractTestExecutionListener
Override
public
int
getOrder
return
Override
public
void
beforeTestMethod
TestContext
testContext
throws
Exception
ResetDbService
resetDbService
testContext
getApplicationContext
getBean
ResetDbService
class
API
resetDbService
backup
Override
public
void
afterTestMethod
TestContext
testContext
throws
Exception
ResetDbService
resetDbService
testContext
getApplicationContext
getBean
ResetDbService
class
resetDbService
rollback
ResetDbListener
ResetDbService
ResetDbService
ResetDbService
UserController
class
UserControllerTest
extends
TestBase
Test
void
given
contentType
application
json
when
get
users
then
statusCode
Test
void
given
contentType
application
json
body
Maps
of
name
test
user
email
test
email
com
password
when
post
users
then
statusCode
REST
Assured
API
API
users
API
RESTful
API
given
RestAssured
RequestSpecification
Given
Given
RequestSpecification
Query
HTTP
When
when
given
BDD
When
HTTP
Method
get
put
post
get
Response
Then
Then
Response
getBody
getHeader
then
ValidatableResponseOptions
Response
statusCode
body
header
String
body
given
contentType
application
json
when
get
users
getBody
print
Assertions
assertEquals
id
admin
id
name
admin
role
ADMIN
email
admin
test
com
password
createdAt
updatedAt
body
JSON
Java
ValidatableResponseOptions
then
statusCode
body
JsonPath
XmIPath
JSON
then
body
JSON
JsonPath
RESTful
API
RESTful
API
JSON
JsonPath
JsonPath
Page
UserController
GetMapping
public
ResponseEntity
Page
User
getAll
JsonPath
return
ResponseEntity
ok
userService
listAll
UserService
public
Page
User
listAll
return
userRepository
findAll
content
id
admin
id
name
admin
totalPages
totalElements
size
number
numberOfElements
REST
Assured
body
JsonPath
Matcher
JsonPath
Matcher
totalPages
body
totalPages
is
content
body
content
size
is
content
name
admin
body
content
name
is
admin
JsonPath
JsonPath
JsonPath
name
name
name
number
number
start
end
RESTful
API
API
API
Basic
API
API
Token
Token
HTTP
API
Cookie
Session
REST
Assured
SessionFilter
Basic
HTTP
Basic
Authorization
admin
HTTP
Authorization
Basic
HTTP
given
header
Authorization
Basic
given
auth
basic
admin
RestAssured
RestAssured
authentication
basic
admin
Token
Token
Basic
HTTP
Token
Bearer
Authorization
Bearer
Token
JWT
OAuth
JWT
Token
OAuth
Token
Token
Token
Autowired
private
AuthorizeService
authorizeService
private
String
token
BeforeEach
public
void
setup
super
setup
this
token
authorizeService
login
User
user
Test
public
void
test
given
contentType
application
json
header
Authorization
Bearer
token
Cookie
Cookie
API
Cookie
Cookie
API
Session
Session
Session
ID
Cookie
Session
ID
ID
Cookie
Cookie
Cookie
Map
String
String
cookies
given
contentType
application
json
body
Maps
of
email
test
email
com
password
when
post
authorizes
then
statusCode
extract
cookies
Cookie
given
contentType
application
json
cookies
cookies
when
post
authorizes
me
then
statusCode
REST
Assured
SessionFilter
SessionFilter
sessionFilter
new
SessionFilter
given
contentType
application
json
filter
sessionFilter
body
Maps
of
email
test
email
com
password
RESTful
API
when
post
authorizes
then
statusCode
API
classpath
file
test
pdf
ClassLoader
ClassLoader
classLoader
getClass
getClassLoader
File
file
new
File
classLoader
getResource
file
test
pdf
getFile
Google
Guava
Google
Guava
Resources
Resources
getResource
file
test
pdf
getFile
Resources
toString
Resources
toString
Resources
getResource
file
test
txt
given
multiPart
given
multiPart
Resources
getResource
file
test
pdf
getFile
when
post
upload
name
file
API
name
given
multiPart
Resources
getResource
file
test
pdf
getFile
when
post
upload
API
API
API
API
API
API
Adapter
Bean
xkcd
com
https
any
api
com
API
API
API
API
https
xkcd
com
info
json
JSON
month
num
link
year
news
Fuzzy
Blob
transcript
alt
If
there
s
no
dome
how
do
you
explain
the
irregularities
the
board
discovered
in
the
zoning
permits
issued
in
that
area
img
https
imgs
xkcd
com
comics
png
title
Fuzzy
Blob
day
Spring
Boot
HTTP
RestTemplate
Feign
OkHttp
RestTemplate
DailyComicController
API
DailyComicController
XkcdClient
DailyComicResponse
imageLink
API
img
RestController
RequestMapping
api
daily
comic
public
class
DailyComicController
Autowired
private
XkcdClient
xkcdClient
RESTful
API
GetMapping
public
ResponseEntity
DailyComicResponse
getCurrentComic
XkcdVO
xkcdVO
xkcdClient
getXkcdResponse
return
ResponseEntity
ok
DailyComicResponse
builder
imageLink
xkcdVO
getImg
build
XkcdClient
RestTemplate
getForObject
API
Spring
HTTP
RestTemplate
Bean
Service
public
class
XkcdClient
Autowired
private
RestTemplate
restTemplate
public
XkcdVO
getXkcdResponse
return
restTemplate
getForObject
https
xkcd
com
info
json
XkcdVO
class
class
DailyComicControllerTest
extends
TestBase
Test
void
given
contentType
application
json
when
get
api
daily
comic
then
statusCode
body
imageLink
is
https
imgs
xkcd
com
comics
png
API
API
XkcdClient
Bean
TestBase
Bean
MockBean
private
XkcdClient
xkcdClient
Autowired
MockBean
TestBase
Autowired
class
DailyComicControllerTest
extends
TestBase
Autowired
API
private
XkcdClient
xkcdClient
Test
void
BDDMockito
given
xkcdClient
getXkcdResponse
willReturn
new
XkcdVO
setImg
https
imgs
xkcd
com
comics
png
given
contentType
application
json
when
get
daily
comic
then
statusCode
body
imageLink
is
https
imgs
xkcd
com
comics
png
MockBean
API
API
MockBean
API
Mock
Mock
JSON
Mock
WireMock
Moco
json
server
Mock
WireMock
WireMock
WireMock
HTTP
Web
WireMock
WireMock
WireMock
Java
API
WireMock
JVM
JRE
Java
WireMock
Jar
Maven
maven
org
com
github
tomakehurst
wiremock
standalone
wiremock
standalone
jar
WireMock
java
jar
wiremock
standalone
jar
RESTful
API
port
HTTP
HTTPS
Web
https
port
HTTPS
WireMock
HTTP
WireMock
HTTP
HTTPS
HTTP
HTTPS
bind
address
root
dir
mappings
record
mappings
match
headers
enable
stub
cors
CORS
help
WireMock
HTTPS
xkcd
com
WireMock
API
API
curl
X
POST
data
request
url
info
json
method
GET
response
status
body
hello
world
http
localhost
mappings
new
mappings
new
API
WireMock
API
curl
http
localhost
info
json
hello
world
API
mappings
WireMock
hello
html
http
localhost
hello
html
API
mappings
URL
Header
API
API
mappings
DSL
xkcd
com
mappings
info
json
body
String
JSON
request
method
GET
url
info
json
response
status
body
month
num
link
year
news
Fuzzy
Blob
transcript
alt
If
there
s
no
dome
how
do
you
explain
the
irregularities
the
board
discovered
in
the
zoning
permits
issued
in
that
area
img
https
imgs
xkcd
com
comics
png
title
Fuzzy
Blob
day
JUnit
WireMock
WireMock
API
WireMock
POM
wiremock
Java
WireMock
WireMock
RedisServer
public
class
UserMockServerTest
extends
TestBase
private
WireMockServer
wireMockServer
Autowired
RestTemplate
restTemplate
BeforeEach
public
void
setUp
super
setUp
wireMockServer
new
WireMockServer
options
port
wireMockServer
start
AfterEach
void
tearDown
RESTful
API
wireMockServer
stop
Test
void
String
response
restTemplate
getForObject
http
localhost
users
String
class
System
out
println
response
RestTemplate
WireMock
http
localhost
users
configureFor
localhost
stubFor
get
urlEqualTo
users
willReturn
aResponse
withHeader
Content
Type
text
json
withBody
name
john
configureFor
String
host
int
port
stubFor
WireMock
stubFor
WireMock
stubFor
MappingBuilder
mappingBuilder
get
Mockito
JDK
get
com
github
tomakehurst
wiremock
client
WireMock
get
urlEqualTo
aResponse
Java
JSON
request
method
GET
url
users
response
status
body
name
john
headers
Content
Type
text
json
WireMock
Builder
API
urlEqualTo
okJson
JSON
Test
void
API
configureFor
localhost
stubFor
get
users
willReturn
okJson
name
john
String
response
restTemplate
getForObject
http
localhost
users
String
class
Assertions
assertEquals
name
john
response
unauthorized
forbidden
notFound
Test
void
configureFor
localhost
stubFor
get
limited
resources
willReturn
unauthorized
Assertions
assertThrows
HttpClientErrorException
Unauthorized
class
restTemplate
getForEntity
http
localhost
limited
resources
String
class
temporaryRedirect
HTTP
RestTemplate
redirect
to
Test
void
configureFor
localhost
stubFor
get
redirect
to
willReturn
ok
new
url
stubFor
get
redirect
willReturn
temporaryRedirect
redirect
to
String
response
restTemplate
getForObject
http
localhost
redirect
to
String
class
Assertions
assertEquals
response
new
url
RestTemplate
Bean
RestTemplate
getForEntity
HTTP
Bean
public
RestTemplate
restTemplate
RestTemplate
restTemplate
new
RestTemplate
final
HttpComponentsClientHttpRequestFactory
factory
new
HttpComponentsClientHttpRequestFactory
CloseableHttpClient
build
HttpClientBuilder
create
disableRedirectHandling
build
factory
setHttpClient
build
RESTful
API
restTemplate
setRequestFactory
factory
return
restTemplate
WireMock
Bug
Jar
WireMock
API
WireMock
WireMock
Java
API
API
verify
Test
void
Mock
configureFor
localhost
stubFor
get
urlEqualTo
users
willReturn
aResponse
withHeader
Content
Type
text
json
withBody
name
john
String
response
restTemplate
getForObject
http
localhost
users
String
class
System
out
println
response
API
verify
getRequestedFor
urlEqualTo
users
withHeader
Content
Type
equalTo
text
json
verify
Mockito
getRequestedFor
Builder
Mock
verify
restTemplate
Content
Type
IntelliJ
IDEA
API
Mockito
verify
verify
lessThan
postRequestedFor
urlEqualTo
many
verify
lessThanOrExactly
postRequestedFor
urlEqualTo
many
verify
exactly
postRequestedFor
urlEqualTo
many
verify
moreThanOrExactly
postRequestedFor
urlEqualTo
many
verify
moreThan
postRequestedFor
urlEqualTo
many
JUnit
Extension
Rule
Rule
JUnit
Rule
Rule
Rule
public
WireMockRule
wireMockRule
new
WireMockRule
Rule
Rule
public
WireMockRule
wireMockRule
new
WireMockRule
options
port
httpsPort
JUnit
JUnit
Extension
Rule
WireMock
API
JUnit
Extension
Extension
WireMockServer
public
class
WireMockExtension
extends
WireMockServer
implements
BeforeEachCallback
AfterEachCallback
public
WireMockExtension
Override
public
void
afterEach
ExtensionContext
context
stop
resetAll
Override
public
void
beforeEach
ExtensionContext
context
start
Extension
RegisterExtension
Extension
start
stop
public
class
WireMockExtensionTest
extends
TestBase
RegisterExtension
WireMockExtension
wireMock
new
WireMockExtension
RESTful
API
WireMockServer
Extension
WireMockServer
public
WireMockExtension
Options
options
super
options
WireMockServer
public
WireMockExtension
int
port
Integer
httpsPort
super
port
httpsPort
API
API
API
API
MECE
API
API
API
API
API
API
API
Experience
API
BFF
API
API
API
API
APP
API
API
API
API
API
API
API
API
API
API
API
API
User
Journey
API
API
API
API
API
API
WireMock
API
JUnit
JUnit
Order
TestMethodOrder
MethodOrderer
OrderAnnotation
class
public
class
BuyScenarioTest
BeforeAll
static
void
beforeAll
AfterAll
static
void
afterAll
Test
Order
void
System
out
println
Test
Order
RESTful
API
void
System
out
println
Test
Order
void
System
out
println
API
Order
API
API
BDD
public
class
ScenarioTest
Test
void
shouldListProducts
shouldGetProductDetail
shouldAddProductToShoppingCart
void
shouldListProducts
System
out
println
void
shouldGetProductDetail
System
out
println
void
shouldAddProductToShoppingCart
System
out
println
API
API
API
API
API
API
API
Service
Repository
Bean
WireMock
API
API
Controller
API
public
class
ProductControllerTest
Nested
DisplayName
query
product
list
suite
class
QueryProduct
Test
void
System
out
println
Test
void
System
out
println
Nested
DisplayName
add
product
test
suite
class
AddProduct
Test
void
System
out
println
Test
void
System
out
println
IntelliJ
IDEA
RESTful
API
API
MockMvc
REST
Assured
API
API
Mock
WireMock
API
API
API
API
CPU
I
O
Web
API
Gatling
JMeter
Locust
CPU
Redis
JMH
https
github
com
java
self
testing
java
self
testing
example
tree
master
jmh
JMeter
https
github
com
java
self
testing
java
self
testing
example
tree
master
jmeter
https
github
com
java
self
testing
java
self
testing
example
tree
master
concurrence
Java
JVM
JMH
Java
JVM
OpenJDK
JMH
Maven
JMH
Jar
JMH
Maven
Maven
JMH
mvn
archetype
generate
DinteractiveMode
false
DarchetypeGroupId
org
openjdk
jmh
DarchetypeArtifactId
jmh
java
benchmark
archetype
DgroupId
org
sample
DartifactId
test
Dversion
IDE
Maven
Jar
mvn
clean
install
java
jar
java
jar
target
benchmarks
jar
JDK
JVM
JMH
version
VM
version
JDK
Java
HotSpot
TM
Bit
Server
VM
VM
invoker
Library
Java
JavaVirtualMachines
jdk
Contents
Home
jre
bin
java
VM
options
none
Warmup
iterations
s
each
Measurement
iterations
s
each
Timeout
min
per
iteration
Threads
thread
will
synchronize
iterations
Benchmark
mode
Throughput
ops
time
Benchmark
org
sample
MyBenchmark
testSimpleString
Warmup
JVM
Measurement
Timeout
JMH
GC
Threads
Benchmark
mode
a
Throughput
OutTimeUnit
b
AverageTime
c
SingleShotTime
Benchmark
h
java
jar
target
benchmarks
jar
h
StringBuildor
String
BenchmarkMode
Mode
Throughput
Warmup
iterations
Measurement
iterations
time
timeUnit
TimeUnit
SECONDS
Threads
Fork
OutputTimeUnit
TimeUnit
MILLISECONDS
public
class
MyBenchmark
Benchmark
public
void
String
initialString
Hello
world
for
int
i
i
i
initialString
initialString
Benchmark
public
void
StringBuilder
stringBuilder
new
StringBuilder
for
int
i
i
i
stringBuilder
append
i
Benchmark
Mode
Cnt
Score
Error
Units
MyBenchmark
thrpt
ops
ms
MyBenchmark
thrpt
ops
ms
Score
StringBuilder
String
Java
Benchmark
public
void
int
sum
for
int
i
i
i
sum
i
Benchmark
public
void
int
sum
for
Integer
i
i
i
sum
i
Benchmark
Mode
Cnt
Score
Error
Units
AutoBoxBenchmark
thrpt
ops
ms
AutoBoxBenchmark
thrpt
ops
ms
JMH
JUnit
JMH
Maven
JUnit
public
class
StringUtil
public
static
String
repeatString
String
text
int
count
String
out
for
int
i
i
count
i
out
text
return
out
public
static
String
repeatStringWithBuilder
String
text
int
count
StringBuilder
stringBuilder
new
StringBuilder
for
int
i
i
count
i
stringBuilder
append
text
return
stringBuilder
toString
StringBuilder
JUnit
JUnit
JVM
GC
dependency
groupId
com
carrotsearch
groupId
artifactId
junit
benchmarks
artifactId
version
version
scope
test
scope
dependency
AbstractBenchmark
BenchmarkOptions
BenchmarkMethodChart
BenchmarkOptions
benchmarkRounds
callgc
false
warmupRounds
BenchmarkMethodChart
filePrefix
StringUtil
test
public
class
StringUtilTest
extends
AbstractBenchmark
Test
public
void
assertEquals
HelloHelloHelloHelloHelloHelloHelloHelloHelloHello
StringUtil
repeatString
Hello
Test
public
void
assertEquals
HelloHelloHelloHelloHelloHelloHelloHelloHelloHello
StringUtil
repeatStringWithBuilder
Hello
StringUtilTest
measured
out
of
rounds
threads
sequential
round
round
block
round
gc
GC
calls
GC
time
time
total
time
warmup
time
bench
StringUtilTest
measured
out
of
rounds
threads
sequential
round
round
block
round
gc
GC
calls
GC
time
time
total
time
warmup
time
bench
API
API
API
JMeter
API
JMeter
Apache
JMeter
JMeter
Java
GUI
JMeter
Web
HTTP
API
JMeter
API
JMeter
CI
CD
JMeter
JMeter
JServ
Apache
ab
ab
Apache
Apache
Bench
Java
JMeter
JVM
JMeter
Java
JMeter
JMeter
JMeter
Go
JavaScript
HAR
Locust
Python
Python
AB
C
Apache
JMeter
JMeter
JMeter
JMeter
JMeter
GUI
GUI
GUI
JMeter
JMeter
JMeter
Java
JDK
JMeter
JDK
JDK
JMeter
Web
JDBC
Driver
JMS
Client
Apache
http
jmeter
apache
org
cgi
Binaries
JMeter
JMeter
JMeter
JMeter
JMeter
bin
ApacheJMeter
jar
bat
sh
docs
extras
JMeter
lib
JMeter
Jar
licenses
JMeter
Linux
Mac
jmeter
sh
Windows
jmeter
API
bat
java
java
jar
bin
ApacheJMeter
jar
GUI
JMeter
GUI
jmeter
API
JMeter
RestController
RequestMapping
api
hello
public
class
HelloController
GetMapping
public
String
hello
return
hello
world
API
curl
hello
world
curl
http
localhost
api
hello
API
JMeter
Swing
JMeter
Test
Plan
Add
Threads
Users
Thread
Group
Action
to
be
taken
after
a
Sampler
error
a
Continue
b
Start
Next
Thread
Loop
c
Stop
Thread
d
Stop
Test
e
Stop
Test
Now
Number
of
Threads
users
API
Ramp
up
period
seconds
Loop
Count
Infinite
Thread
Group
Add
Sampler
HTTP
Request
HTTP
HTTP
Request
JMeter
HTTP
HTTP
HTTP
Protocol
http
HTTPS
HTTP
Server
Name
or
IP
localhost
Port
Number
HTTP
Request
HTTP
Method
GET
Path
api
hello
Parameters
URL
query
Body
Data
POST
PUT
HTTP
JMeter
Thread
Group
Add
Listener
Summary
Report
Summary
Report
View
Results
Tree
Aggregate
Report
API
Aggregate
Graph
Response
Time
Graph
JMeter
GUI
JMeter
jmx
Jmx
XML
JMeter
Label
Samples
Average
Median
Line
Line
Line
Min
Maximum
Error
Throughput
Received
KB
sec
Sent
KB
sec
GUI
GUI
GUI
JMX
Maven
JMeter
GUI
n
GUI
t
JMX
JTL
j
r
R
g
CSV
n
t
help
bin
jmeter
sh
n
t
hello
jmx
l
output
jtl
JMeter
bin
Path
JMeter
JMeter
output
jtl
GUI
JMeter
GUI
Aggregate
Report
Browser
API
Maven
JMeter
JMeter
CI
JMeter
Maven
JMeter
Maven
Maven
JMeter
Maven
jmeter
maven
plugin
jmeter
Maven
Pom
plugin
plugin
groupId
com
lazerycode
jmeter
groupId
artifactId
jmeter
maven
plugin
artifactId
version
version
executions
execution
id
configuration
id
goals
goal
configure
goal
goals
execution
execution
id
jmeter
tests
id
goals
goal
jmeter
goal
goals
execution
execution
id
jmeter
check
results
id
goals
goal
results
goal
goals
execution
executions
plugin
Maven
JMeter
Maven
execution
execution
ID
JMeter
ID
configuration
execution
selected
Configuration
execution
id
myJMeterConfiguration
id
goals
goal
configure
goal
goals
execution
execution
id
jmeter
tests
id
goals
goal
jmeter
goal
goals
configuration
selectedConfiguration
myJMeterConfiguration
selectedConfiguration
configuration
execution
GUI
JMX
project
base
directory
src
test
jmeter
Maven
IntelliJ
IDEA
JMeter
Maven
Maven
JMeter
configure
gui
Maven
JMeter
GUI
jmeter
JMX
remote
server
results
Maven
JMeter
mvn
verify
JMeter
mvn
jmeter
jmeter
mvn
jmeter
configure
mvn
jmeter
configure
Maven
JMeter
API
Maven
JMeter
Demo
API
JMeter
JMeter
JMeter
JMeter
JMeter
Kubernetes
JMeter
JMeter
JMeter
JMeter
JMeter
JMeter
JMeter
API
JMeter
JMeter
JMeter
JMeter
JMeter
JMeter
XML
JMeter
XML
GUI
JMX
JMX
API
JMX
XML
TestPlan
ThreadGroup
HTTPSamplerProxy
ResultCollector
HTTP
Java
JMeter
CPU
JMeter
JMeter
JMeter
HTTP
HTTP
API
FTP
FTP
JDBC
SMTP
JMeter
API
RESTful
API
HTTP
JSON
JMeter
CSV
XML
View
Results
Tree
JMeter
JMeter
Interceptor
HTTP
HTTP
Cookie
HTTP
HTTP
Header
Accept
Type
HTTP
Cookie
Session
API
HTTP
Cookie
Cookie
CPU
CPU
Redis
CPU
API
PHP
Apache
Apache
prefork
PHP
Node
js
PHP
Node
js
Java
Volatile
Volatile
CPU
Synchronized
Synchronized
ThreadLocal
AtomicBoolean
Atomiclnteger
AtomicLong
AtomicReference
Java
Java
ThreadLocal
Synchronized
CAS
Compare
And
Swap
COW
Copy
On
Write
Master
Slave
Master
Slave
Hash
Master
Slave
Master
Slave
Master
Slave
Java
A
B
count
A
B
A
FindBugs
ThreadSafe
IDE
IDE
tempus
fugit
JDK
VisualVM
HeapAnalyzer
Soak
Testing
IntelliJ
IDEA
A
B
count
public
class
SynchronizationCount
static
Integer
count
public
static
void
main
String
args
throws
InterruptedException
Thread
new
Thread
SynchronizationCount
count
Thread
new
Thread
SynchronizationCount
count
start
start
Thread
sleep
System
out
println
count
private
static
void
count
SynchronizationCount
count
SynchronizationCount
count
count
CPU
IntelliJ
IDEA
count
Main
SynchronizationCount
count
SynchronizationCount
count
tl
Java
IntelliJ
IDEA
public
class
ConcurrencyTest
static
final
List
a
Collections
synchronizedList
new
ArrayList
public
static
void
main
String
args
throws
InterruptedException
Thread
t
new
Thread
addIfAbsent
t
start
addIfAbsent
t
join
System
out
println
a
private
static
void
addIfAbsent
int
x
if
a
contains
x
a
add
x
a
add
x
contains
IntelliJ
IDEA
tempus
fugit
public
class
DeadLockExample
public
static
void
startBusiness
DeadLockSimulator
deadLockSimulator
new
DeadLockSimulator
Thread
new
Thread
deadLockSimulator
thread
Thread
new
Thread
deadLockSimulator
thread
start
start
private
static
class
DeadLockSimulator
implements
Runnable
private
Object
new
Object
private
Object
new
Object
public
void
methodA
synchronized
synchronized
System
out
println
MethodA
executed
public
void
methodB
synchronized
synchronized
System
out
println
MethodB
executed
Override
public
void
run
for
int
i
i
i
methodA
methodB
DeadLockExample
DeadLockSimulator
methodA
methodB
main
jstack
ID
Linux
Mac
ps
jstack
jstack
jstack
option
pid
jstack
tempus
fugit
tempus
fugit
JUnit
Rule
JUnit
JUnit
extension
concurrence
dependency
groupId
junit
groupId
artifactId
junit
artifactId
version
version
scope
test
scope
dependency
dependency
groupId
com
google
code
tempus
fugit
groupId
artifactId
tempus
fugit
artifactId
version
version
scope
test
scope
dependency
DeadLockExample
public
class
DeadLockTest
Rule
public
ConcurrentRule
rule
new
ConcurrentRule
Test
public
void
noDeadlock
DeadlockDetector
printDeadlocks
System
out
Test
timeout
public
void
runsMultipleTimes
DeadLockExample
startBusiness
DeadLockTest
noDeadlock
runsMultipleTimes
MethodA
MethodB
MethodA
executed
MethodA
executed
MethodB
executed
noDeadlock
Deadlock
detected
thread
waiting
to
lock
Monitor
of
java
lang
Object
which
is
held
by
thread
thread
waiting
to
lock
Monitor
of
java
lang
Object
which
is
held
by
thread
Java
ThreadMXBean
ManagementFactory
tempus
fugit
JMH
Java
int
counter
counter
tempus
fugit
Concurrent
ConcurrentRule
Repeating
RepeatingRule
public
class
RunConcurrentlyTest
Rule
public
ConcurrentRule
concurrently
new
ConcurrentRule
Rule
public
RepeatingRule
repeatedly
new
RepeatingRule
private
static
int
counter
Test
Concurrent
count
Repeating
repetition
public
void
runsMultipleTimes
RunConcurrentlyTest
counter
AfterClass
public
static
void
annotatedTestRunsMultipleTimes
assertEquals
counter
AfterClass
Repeating
After
VisualVM
Java
Java
VisualVM
VisualVM
GC
public
class
MemoryLeakExample
public
static
Map
Person
Integer
map
new
HashMap
public
static
void
main
String
args
throws
InterruptedException
for
int
i
i
i
MemoryLeakExample
online
new
MemoryLeakExample
Person
jon
Thread
sleep
public
static
void
online
Person
person
if
map
get
person
null
map
put
person
map
get
person
public
static
class
Person
public
String
name
public
Person
String
name
this
name
name
map
map
Person
online
VisualVM
VisualVM
main
VisualVM
Sampler
Live
Objects
Live
Objects
Person
Person
Person
VisualVM
API
JMeter
TDD
XP
eXtreme
Programming
Kent
Beck
TDD
TDD
TDD
TDD
TDD
TDD
TDD
TDD
TDD
TDD
TDD
TDD
TDD
TDD
TDD
TDD
TDD
Bug
Bug
TDD
Git
TDD
TDD
TDD
AngularJS
AngularJS
TDD
TDD
TDD
CRUD
TDD
TDD
TDD
TDD
TDD
TDD
TDD
CRUD
TDD
TDD
TDD
TDD
TDD
TDD
TDD
TDD
Test
Driven
Development
Test
Driven
Design
Task
Driven
Development
TDD
TDD
TDD
TDD
TDD
Public
Public
Public
TDD
Public
Public
Public
Baby
Step
Demo
TDD
TDD
TDD
TDD
TDD
TDD
TDD
TDD
TDD
AC
Acceptance
Criteria
n
Gmail
AC
AC
Male
Female
AC
MIME
image
jpeg
AC
System
out
println
JUnit
https
github
com
java
self
testing
java
self
testing
example
tree
master
tdd
TDD
AvatarTextUtil
generatorDefaultAvatar
public
class
AvatarTextUtil
public
static
String
generateDefaultAvatar
User
user
return
User
public
class
User
private
String
cnName
private
String
enName
private
String
gender
public
class
AvatarTextUtilTest
Test
public
void
User
user
new
User
setCnName
setEnName
Mike
Assert
assertEquals
generateDefaultAvatarText
user
public
static
String
generateDefaultAvatarText
User
user
if
null
user
getCnName
String
userName
user
getCnName
return
userName
substring
userName
length
TDD
TDD
public
class
AvatarTextUtilTest
Test
public
void
User
user
new
User
setCnName
setEnName
Mike
Assert
assertEquals
generateDefaultAvatarText
user
Test
public
void
User
user
new
User
setCnName
null
setEnName
Mike
Assert
assertEquals
M
generateDefaultAvatarText
user
Test
public
void
User
user
new
User
setCnName
null
setEnName
null
Assert
assertEquals
null
generateDefaultAvatarText
user
public
static
String
generateDefaultAvatarText
User
user
if
null
user
getCnName
String
userName
user
getCnName
return
userName
substring
userName
length
if
null
user
getEnName
String
userName
user
getEnName
return
userName
substring
toUpperCase
return
null
TDD
ImageUtil
TDD
Test
public
void
Assert
assertEquals
watermarkImage
Color
BLUE
public
static
String
watermarkImage
String
text
Color
color
int
fontSize
int
width
int
height
Font
font
new
Font
Font
PLAIN
fontSize
BufferedImage
image
new
BufferedImage
width
height
BufferedImage
Graphics
graphics
image
getGraphics
graphics
setClip
width
height
graphics
setColor
color
graphics
fillRect
width
height
graphics
setColor
Color
white
graphics
setFont
font
Rectangle
clip
graphics
getClipBounds
FontMetrics
fontMetrics
graphics
getFontMetrics
font
TDD
int
ascent
fontMetrics
getAscent
int
descent
fontMetrics
getDescent
int
y
clip
height
ascent
descent
ascent
int
x
width
fontSize
text
length
graphics
drawString
text
x
y
graphics
dispose
jpeg
ByteArrayOutputStream
baos
new
ByteArrayOutputStream
try
ImageIO
write
image
jpeg
baos
catch
IOException
e
e
printStackTrace
byte
bytes
baos
toByteArray
encoder
new
String
encoder
encodeBuffer
bytes
trim
return
data
image
jpeg
TDD
GitHub
TDD
AvatarService
AvatarService
TDD
AvatarServiceTest
AvatarService
public
class
AvatarServiceTest
AvatarService
avatarService
null
Before
public
void
setUp
throws
Exception
avatarService
new
AvatarService
Test
public
void
User
user
new
User
setCnName
setEnName
Mike
setGender
male
Assert
assertEquals
avatarService
generateUserDefaultAvatar
user
Test
public
void
User
user
new
User
setCnName
setEnName
Mike
setGender
female
Assert
assertEquals
avatarService
generateUserDefaultAvatar
user
Test
public
void
User
user
new
User
setCnName
setEnName
Mike
setGender
null
Assert
assertEquals
avatarService
generateUserDefaultAvatar
user
public
class
AvatarService
public
String
generateUserDefaultAvatar
User
user
String
avatarText
generatorDefaultAvatarText
user
if
male
equals
user
getGender
return
watermarkImage
avatarText
Color
BLUE
if
female
equals
user
getGender
return
watermarkImage
avatarText
Color
RED
return
watermarkImage
avatarText
Color
gray
IntelliJ
IDEA
TDD
I
O
TDD
TDD
TDD
TDD
TDD
TDD
Java
TDD
Public
Public
Private
TDD
TDD
TDD
TDD
TDD
TDD
TDD
TDD
TDD
IntelliJ
IDEA
TDD
Mac
Command
Shift
T
Generate
Tests
Test
Control
Shift
Run
Shift
TDD
TDD
TDD
TDD
Demo
API
API
JDK
API
TDD
Test
Engineering
Jenkins
Jenkins
Jenkins
Jenkins
Jenkins
CI
CD
CI
CD
TDD
CI
CD
CI
CD
CI
CD
CI
CD
API
API
API
CI
CD
CI
CD
CI
CD
Jenkins
Jenkins
Jenkins
Java
Freestyle
Jenkins
Servlet
War
Jenkins
Jenkins
GoCD
GoCD
Thoughtworks
GoCD
GoCD
CruiseControl
GoCD
GoCD
CircleCI
CircleCI
SaaS
CircleCI
YAML
YAML
CircleCI
CircleCI
SaaS
CircleCI
CircleCI
Bamboo
Bamboo
Atlassian
Atlassian
Jira
Atlassian
Bamboo
Bitbucket
Jira
Confluence
Bamboo
GitHub
Actions
GitHub
Actions
GitHub
GitHub
GitHub
Actions
GitHub
GitHub
Actions
GitLab
CI
Bamboo
GitHub
Actions
Jenkins
Jenkins
Jenkins
Jenkins
Vagrant
Ansible
Infrastructure
as
Code
DevOps
Jenkins
Jenkins
Java
Java
Jenkins
Java
Web
War
Jenkins
MB
Jenkins
Java
JRE
JDK
JDK
Java
JRE
JDK
Jenkins
War
wget
http
mirrors
jenkins
io
war
stable
latest
jenkins
war
Jenkins
java
jar
jenkins
war
httpPort
Web
http
localhost
Web
Web
Jenkins
Jenkins
Jenkins
Jenkins
Jenkins
GitLab
GitLab
Webhook
Jenkins
Jenkins
Jenkins
Web
Jenkins
Git
Git
Git
Jenkins
Jenkins
SCM
Source
Code
Management
SVN
Git
Jenkins
GitLab
GitHub
Git
Jenkins
Credentials
Jenkins
Jenkins
Jenkins
SSH
Key
SSH
Key
Jenkins
Jenkins
Dashboard
Jenkins
Jenkins
ID
Folders
Folders
Folders
Jenkins
Folders
Jenkins
SSH
Agent
Jenkins
SSH
Agent
Linux
SSH
SSH
Key
Jenkins
SSH
Agent
Kubernetes
Kubernetes
Kubernetes
SSH
Agent
Dashboard
Nodes
Build
Monitor
View
Build
Monitor
View
Jenkins
Build
Monitor
View
Dashboard
Pipeline
Pipeline
Jenkins
Pipeline
Pipeline
Jenkins
Jenkins
Build
Monitor
View
Pipeline
Groovy
UI
Jenkins
Groovy
Groovy
Pipeline
Groovy
Groovy
Groovy
pipeline
agent
node
triggers
pollSCM
H
stages
stage
Test
when
anyOf
branch
master
branch
release
environment
name
value
true
environment
name
value
false
steps
sh
Shared
Groovy
Libraries
Groovy
Stage
View
Stage
stages
stage
Nodes
and
Processes
Job
Jenkins
Multibranch
SCM
Step
checkout
Input
Step
input
Build
Step
build
Stage
Step
stage
Jenkins
Jenkins
Dashboard
New
Item
Freestyle
Jenkins
Docker
Freestyle
Groovy
Stage
SCM
Freestyle
Freestyle
Jenkins
Dashboard
New
Item
Jenkins
Freestyle
project
Jenkins
Freestyle
OK
Jenkins
General
Source
Code
Management
Build
Triggers
Build
Environment
Build
Post
build
Actions
Freestyle
Jenkins
General
General
Jira
site
Jira
Git
Commit
Discard
old
builds
This
build
requires
lockable
resources
Manage
jenkins
System
configuration
Lockable
Resources
Manager
Throttle
builds
Execute
concurrent
builds
if
necessary
Jenkins
Jenkins
Restrict
where
this
project
can
be
run
Jenkins
General
Advanced
Source
Code
Management
SCM
SCM
Git
Repositories
Add
Repository
Credentials
Branches
to
build
ID
commit
ID
Jenkins
Additional
Behaviours
Additional
Behaviours
Build
Triggers
Build
Triggers
Trigger
builds
remotely
e
g
from
scripts
Token
URL
Jenkins
Token
Build
after
other
projects
are
built
Build
periodically
Jenkins
Cron
Build
when
a
change
is
pushed
to
GitLab
GitLab
GitLab
Webhook
GitHub
SCM
Webhook
Build
Environment
Build
Environment
Jenkins
Kubernetes
Kubectl
Build
Environment
Kubernetes
Kubernetes
Build
Build
Build
Maven
Maven
Jenkins
Pom
xml
Maven
Shell
Shell
Shell
Add
build
step
Jenkins
Post
build
Actions
Post
build
Actions
Archive
the
artifacts
Jenkins
Jenkins
Docker
NPM
Maven
Publish
HTML
reports
HTML
HTML
Freestyle
Jenkins
SSH
Key
SSH
Ansible
Freestyle
Jenkins
Java
Jenkins
Dashboard
New
Item
Jenkins
Groovy
Pipeline
Advanced
Project
Options
Freestyle
Jenkins
Definition
Pipeline
script
SCM
Groovy
SCM
Freestyle
Lightweight
checkout
Definition
Groovy
Pipeline
script
Jenkins
Groovy
GitHub
Maven
try
sample
Pipeline
Jenkins
pipeline
pipeline
any
agent
any
Maven
Gradle
tools
maven
stages
stage
Build
steps
SCM
SCM
git
git
https
github
com
jglick
simple
maven
project
with
tests
git
sh
mvn
Dmaven
test
failure
ignore
true
clean
package
post
success
junit
target
surefire
reports
TEST
xml
archiveArtifacts
target
jar
Jenkins
Groovy
Groovy
Jenkins
API
Checkstyle
Docker
API
API
UAT
Jenkins
Jenkins
pipeline
agent
none
agent
agent
none
options
disableConcurrentBuilds
stages
stage
Checkstyle
agent
label
slave
steps
Shell
sh
Shell
sh
ci
checkstyle
echo
run
checkstyle
stage
Unit
Test
agent
label
slave
steps
script
sh
ci
unitTest
echo
run
unitTest
stage
Build
Image
agent
label
slave
steps
sh
ci
build
echo
image
built
stage
Deploy
DEV
agent
label
slave
environment
ENV
dev
steps
sh
env
sh
ci
deploy
echo
image
deployed
API
stage
API
Test
agent
label
slave
steps
sh
ci
apiTest
echo
run
apiTest
stage
Deploy
QA
agent
label
slave
environment
ENV
qa
steps
timeout
time
unit
SECONDS
input
message
deploy
to
QA
sh
env
sh
ci
deploy
echo
image
deployed
stage
Deploy
UAT
agent
label
slave
environment
ENV
uat
steps
timeout
time
unit
SECONDS
submitter
input
message
deploy
to
UAT
submitter
zhangsan
lisi
sh
env
Jenkins
sh
ci
deploy
echo
image
deployed
stage
Deploy
PROD
agent
label
slave
environment
ENV
prod
input
message
deploy
to
PROD
submitter
zhangsan
parameters
zhangsan
string
name
PASSWORD
defaultValue
description
Say
the
words
steps
script
if
PASSWORD
error
SORRY
YOU
DON
T
HAVE
THE
PASSWORD
sh
env
sh
ci
deploy
echo
image
deployed
sh
Shell
Shell
echo
input
Shell
Shell
Jenkins
Jenkins
Manage
Jenkins
Manage
Plugins
Pipeline
Multibranch
Jenkins
Jenkins
Branch
Sources
Behaviours
Filter
by
name
Jenkins
Scan
Now
Jenkins
Jenkins
Jenkins
Git
flow
GitHub
flow
GitLab
flow
Pull
Request
GitLab
flow
GitLab
flow
GitLab
flow
Release
Release
Jenkins
Release
Hotfix
Hotfix
Pull
Request
Release
Release
Hotfix
Jenkins
Release
Pull
Request
Release
Release
Jenkins
when
release
stage
Deploy
UAT
when
beforeInput
true
expression
release
d
d
Release
Jenkins
parallel
stage
Unit
Test
parallel
stage
agent
label
slave
steps
script
sh
ci
stage
agent
label
slave
steps
script
sh
ci
stage
agent
label
slave
steps
script
sh
ci
Jenkins
Blue
Ocean
Blue
Ocean
Blue
Ocean
Shell
Jenkins
Shell
Web
HTML
Publisher
HTML
Jenkins
JUnit
JUnit
HTML
Publisher
HTML
Publisher
Freestyle
Jenkins
HTML
Publisher
XML
HTMLPublisher
Checkstyle
Maven
target
checkstyle
result
xml
HTML
Publisher
HTMLPublisher
Freestyle
Post
build
Actions
Freestyle
Post
build
Actions
Post
build
Actions
HTML
directory
to
archive
Jenkins
Jenkins
publishHTML
pipeline
agent
label
master
stages
stage
Build
steps
sh
mvn
Dmaven
test
failure
ignore
true
clean
package
post
publishHTML
target
allowMissing
false
alwaysLinkToLastBuild
true
keepAll
true
reportDir
target
reportFiles
checkstyle
result
xml
reportName
checkstyle
reportTitles
checkstyle
stage
post
try
JUnit
JUnit
JUnit
JUnit
pipeline
agent
any
stages
stage
Build
steps
git
https
github
com
java
self
testing
java
self
testing
demo
report
git
sh
mvn
Dmaven
test
failure
ignore
true
clean
package
post
success
junit
target
surefire
reports
TEST
xml
java
self
testing
demo
report
Maven
junit
Jenkins
Test
Result
JUnit
JUnit
Maven
Gradle
Maven
maven
surefire
plugin
build
plugins
plugin
artifactId
maven
surefire
plugin
artifactId
version
version
plugin
plugins
build
Java
JaCoCo
Java
Java
Agent
JaCoCo
exec
jacoco
maven
plugin
exec
HTML
Jenkins
Maven
plugins
plugin
groupId
org
jacoco
groupId
artifactId
jacoco
maven
plugin
artifactId
version
version
configuration
rules
rule
implementation
org
jacoco
maven
RuleConfiguration
element
BUNDLE
element
limits
limit
implementation
org
jacoco
report
check
Limit
counter
METHOD
counter
value
COVEREDRATIO
value
minimum
minimum
limit
limit
implementation
org
jacoco
report
check
Limit
counter
BRANCH
counter
value
COVEREDRATIO
value
minimum
minimum
limit
limits
rule
rules
configuration
Maven
executions
execution
id
pre
test
id
goals
Java
Agent
goal
prepare
agent
goal
goals
execution
execution
id
post
test
id
phase
test
phase
goals
HTML
goal
report
goal
goals
execution
executions
plugin
Maven
Dmaven
test
failure
ignore
true
target
jacoco
exec
target
site
jacoco
HTML
HTML
Publisher
JaCoCo
Jenkins
HTML
Publisher
HTMLPublisher
publishHTML
target
allowMissing
false
alwaysLinkToLastBuild
true
keepAll
true
reportFiles
reportDir
target
site
jacoco
reportName
jacoco
reportTitles
jacoco
HTML
Jenkins
Jenkins
JaCoCo
HTML
Publisher
Jenkins
Jenkins
JaCoCo
exec
HTML
JaCoCo
HTML
jacoco
exec
Jenkins
JaCoCo
HTML
Publisher
jacoco
JaCoCo
jacoco
execPattern
target
jacoco
exec
Coverage
Report
JaCoCo
instruction
Java
branch
if
switch
complexity
line
method
class
CI
CD
Jenkins
SonarQube
IDE
API
Java
Interface
Java
Interface
Windows
API
API
Java
output
output
Printer
Projector
Java
Java
WBPrinter
ColorPrinter
Java
Interface
SQL
HTTP
Public
MIME
MIME
PC
PC
PNG
MIME
Java
jcabi
aspects
Loggable
Hello
XX
public
class
HelloService
Loggable
public
String
hello
String
name
return
Hello
name
Spring
Boot
logger
spring
boot
EnableLogger
ASM
Spring
Spring
IDE
Bean
Arthas
Java
attach
Java
watch
Arthas
java
jar
wget
https
arthas
aliyun
com
arthas
boot
jara
java
jar
arthas
boot
jar
Java
Java
watch
IDE
IntelliJ
IDEA
Eclipse
Code
Coverage
HelloServiceTest
API
API
API
Spring
MockMvc
API
REST
Assured
API
API
REST
Assured
API
API
API
Swagger
RAML
API
API
API
API
API
JUnit
API
API
API
API
API
API
JSON
API
API
Pact
consumer
name
dummy
consumer
provider
name
product
service
interactions
description
Get
all
products
providerState
Get
all
products
request
method
GET
path
products
headers
Content
Type
application
json
response
body
id
name
Book
description
Some
Books
price
null
status
metadata
pactSpecification
version
API
Pact
Pact
Pact
Pact
Demo
https
github
com
java
self
testing
java
self
testing
example
tree
master
contract
testing
Pact
Service
Consumer
API
Service
Provider
API
Interaction
Pact
Pact
file
Pact
JSON
Pact
verification
Pact
Provider
state
RESTful
API
Pact
pact
jvm
Java
JVM
Product
Pact
API
dependencies
dependency
groupId
org
springframework
boot
groupId
artifactId
spring
boot
starter
web
artifactId
dependency
dependency
groupId
org
springframework
boot
groupId
artifactId
spring
boot
starter
data
jpa
artifactId
dependency
dependency
groupId
com
groupId
artifactId
artifactId
dependency
dependency
groupId
org
springframework
boot
groupId
artifactId
spring
boot
starter
test
artifactId
scope
test
scope
dependency
dependency
groupId
au
com
dius
groupId
artifactId
pact
jvm
provider
spring
artifactId
version
version
scope
test
scope
dependency
dependencies
Controller
Product
RestController
RequestMapping
products
public
class
ProductController
private
ProductService
productService
private
ProductAssembler
productAssembler
public
ProductController
ProductService
productService
ProductAssembler
productAssembler
this
productService
productService
this
productAssembler
productAssembler
GetMapping
produces
application
json
public
List
ProductResponse
getAllProducts
final
List
Product
products
productService
getProducts
return
productAssembler
toProductResponseList
products
ProductService
ProductAssembler
pact
jvm
provider
spring
JUnit
pact
jvm
provider
spring
JUnit
JUnit
JUnit
JUnit
JUnit
Extension
JUnit
API
RunWith
RestPactRunner
class
PactFolder
contracts
Provider
product
service
public
class
ProductContractTest
RestPactRunner
Pact
Runner
Mockito
Mockito
PactFolder
contracts
Classpath
Provider
product
service
Provider
Provider
product
jcon
PactFolder
contracts
provider
name
providerState
PactFolder
contracts
API
JUnit
Pact
Pact
PactContractTest
RunWith
RestPactRunner
class
PactFolder
contracts
Provider
product
service
public
class
ProductContractTest
Mock
private
ProductService
productService
Spy
private
ProductAssembler
productAssembler
InjectMocks
private
ProductController
productController
TestTarget
public
final
MockMvcTarget
target
new
MockMvcTarget
Before
public
void
setUp
throws
Exception
MockitoAnnotations
initMocks
this
Controller
MockMvc
MockMvc
Spring
Boot
Testing
target
setControllers
productController
target
setPrintRequestResponse
true
Test
State
Get
all
products
public
ProductController
Mockito
when
productService
getProducts
thenReturn
Arrays
asList
new
Product
setId
setName
Book
setPrice
null
setIsOnSale
true
setDescription
Some
Books
return
productController
productService
Demo
Pact
Pact
Spring
Cloud
Contract
API
SQL
Python
Node
js
Java
API
Datax
Spring
Batch
ETL
API
SQL
Java
Datax
ELT
Spring
Batch
Spring
Batch
Spring
Batch
Spring
Batch
Spring
Batch
ETL
Spring
Batch
Spring
Spring
Spring
Boot
Spring
Batch
Spring
Batch
Spring
Batch
Spring
Batch
Job
Job
JobLauncher
Job
Step
Step
Step
ItemReader
Spring
Batch
ItemReader
Spring
Batch
ItemProcessor
ItemReader
ItemProcessor
ItemWriter
ItemWriter
ItemReader
Bean
Job
Step
ItemReader
ItemWriter
ItemProcessor
Job
JobParameters
Spring
Batch
JobInstance
JobInstance
StepInstance
ExecutionContext
JobRepository
Spring
Batch
Spring
Batch
GitHub
https
github
com
java
self
testing
java
self
testing
example
tree
master
spring
batch
CSV
Reader
Writer
Job
Spring
Boot
spring
batch
test
dependency
groupId
org
springframework
boot
groupId
artifactId
spring
boot
starter
batch
artifactId
dependency
dependency
groupId
org
hsqldb
groupId
artifactId
hsqldb
artifactId
dependency
dependency
groupId
org
springframework
boot
groupId
artifactId
spring
boot
starter
test
artifactId
scope
test
scope
dependency
dependency
groupId
org
springframework
batch
groupId
artifactId
spring
batch
test
artifactId
scope
test
scope
dependency
schema
all
sql
DROP
TABLE
people
IF
EXISTS
CREATE
TABLE
people
BIGINT
IDENTITY
NOT
NULL
PRIMARY
KEY
VARCHAR
VARCHAR
Person
public
class
Person
private
String
lastName
private
String
firstName
public
Person
public
Person
String
firstName
String
lastName
this
firstName
firstName
this
lastName
lastName
sample
data
csv
Zhang
San
Li
Si
Zhou
Wu
Wang
Liu
BatchConfiguration
Bean
Spring
Batch
Configuration
EnableBatchProcessing
Spring
Batch
Job
public
class
BatchConfiguration
Bean
public
FlatFileItemReader
Person
reader
return
new
FlatFileItemReaderBuilder
Person
name
personItemReader
resource
new
ClassPathResource
sample
data
csv
delimited
names
new
String
firstName
lastName
fieldSetMapper
new
BeanWrapperFieldSetMapper
Person
setTargetType
Person
class
build
Bean
public
PersonItemProcessor
processor
return
new
PersonItemProcessor
Bean
public
JdbcBatchItemWriter
Person
writer
DataSource
dataSource
return
new
JdbcBatchItemWriterBuilder
Person
itemSqlParameterSourceProvider
new
BeanPropertyItemSqlParameterSource
Provider
sql
INSERT
INTO
people
VALUES
firstName
lastName
dataSource
dataSource
build
Reader
Writer
Processor
FlatFileltemReaderBuilder
Reader
Reader
JdbcBatchItemWriterBuilder
JDBC
Writer
SQL
PersonItemProcessor
ItemProcessor
public
class
PersonItemProcessor
implements
ItemProcessor
Person
Person
private
static
final
Logger
log
LoggerFactory
getLogger
PersonItemProcessor
class
Override
public
Person
process
final
Person
person
throws
Exception
final
String
firstName
person
getFirstName
toUpperCase
final
String
lastName
person
getLastName
toUpperCase
final
Person
transformedPerson
new
Person
firstName
lastName
return
transformedPerson
ItemProcessor
process
null
Writer
CSV
Spring
Batch
Spring
Batch
Spring
Batch
Spring
Batch
spring
boot
starter
test
spring
batch
test
spring
batch
test
Spring
Batch
Step
Job
dependency
groupId
org
springframework
boot
groupId
artifactId
spring
boot
starter
test
artifactId
scope
test
scope
dependency
dependency
groupId
org
springframework
batch
groupId
artifactId
spring
batch
test
artifactId
scope
test
scope
dependency
Job
Job
Spring
Batch
SpringBatchTest
RunWith
SpringRunner
class
ContextConfiguration
classes
BatchConfiguration
class
EnableAutoConfiguration
public
class
BatchTest
SpringBatchTest
Spring
Batch
SpringRunner
Runner
SpringBatchTest
DataSource
Job
Instance
DataSource
EnableAutoConfiguration
Spring
Boot
Bean
ContextConfiguration
Job
BatchConfiguration
Configuration
Job
Primary
JobLauncherTestUtils
Job
jobExecution
Job
Autowired
private
JobLauncherTestUtils
jobLauncherTestUtils
Test
public
void
testJob
throws
Exception
JobExecution
jobExecution
jobLauncherTestUtils
launchJob
Assert
assertEquals
COMPLETED
jobExecution
getExitStatus
getExitCode
JobRepositoryTestUtils
After
public
void
tearDown
throws
Exception
jobRepositoryTestUtils
removeJobExecutions
Job
Step
jobExecution
Step
Step
Job
Step
Step
Step
jobLauncherTestUtils
launchStep
Step
Step
Test
public
void
testStep
throws
Exception
JobExecution
jobExecution
jobLauncherTestUtils
launchStep
Assert
assertEquals
COMPLETED
jobExecution
getExitStatus
getExitCode
jobExecution
Step
JdbcTestUtils
SpringBatchTest
RunWith
SpringRunner
class
ContextConfiguration
classes
BatchConfiguration
class
EnableAutoConfiguration
DirtiesContext
classMode
DirtiesContext
ClassMode
public
class
BatchStepTest
Autowired
private
JobLauncherTestUtils
jobLauncherTestUtils
Autowired
private
JobRepositoryTestUtils
jobRepositoryTestUtils
After
public
void
tearDown
throws
Exception
jobRepositoryTestUtils
removeJobExecutions
Autowired
public
JdbcTemplate
jdbcTemplate
Test
public
void
testStep
throws
Exception
JobExecution
jobExecution
jobLauncherTestUtils
launchStep
jobExecution
getStepExecutions
forEach
stepExecution
Assert
assertEquals
stepExecution
getWriteCount
Assert
assertEquals
stepExecution
getReadCount
Assert
assertEquals
stepExecution
getSkipCount
Assert
assertEquals
JdbcTestUtils
countRowsInTable
jdbcTemplate
people
Assert
assertEquals
COMPLETED
jobExecution
getExitStatus
getExitCode
Reader
Writer
Processor
Spring
Batch
Reader
Writer
Step
Reader
Writer
Processor
Processor
Processor
Bean
Spring
Batch
Spring
Batch
ETL
Spring
Batch
Job
Job
Pete
Hodgson
Feature
Toggles
https
martinfowler
com
articles
feature
toggles
html
SPI
SPI
Service
Provider
Interface
Java
SPI
Hello
world
Hello
world
echoHello
if
timerEnabled
timerEnabled
static
boolean
timerEnabled
true
public
static
void
main
String
args
throws
InterruptedException
echoHello
public
static
void
echoHello
throws
InterruptedException
if
timerEnabled
while
true
System
out
println
Hello
world
Thread
sleep
else
System
out
println
Hello
world
static
boolean
timerEnabled
false
public
static
void
main
String
args
throws
InterruptedException
if
timerEnabled
new
TimerEcho
echoHello
else
new
BasicEcho
echoHello
interface
Echo
void
echoHello
static
class
BasicEcho
implements
Echo
public
void
echoHello
System
out
println
Hello
world
static
class
TimerEcho
implements
Echo
public
void
echoHello
while
true
System
out
println
Hello
world
try
Thread
sleep
catch
Exception
ignored
main
if
Java
SPI
SPI
Classpath
META
INF
services
ServiceLoader
Echo
ServiceLoader
Echo
public
interface
Echo
void
echoHello
Echo
BasicEcho
public
class
BasicEcho
implements
Echo
public
BasicEcho
public
void
echoHello
System
out
println
Hello
world
Echo
TimerEcho
public
class
TimerEcho
implements
Echo
public
TimerEcho
public
void
echoHello
while
true
System
out
println
Hello
world
try
Thread
sleep
catch
Exception
ignored
META
INF
services
cn
printf
demos
featuretoggles
provider
Echo
SPI
cn
printf
demos
featuretoggles
provider
TimerEcho
public
class
ProviderVersion
public
static
void
main
String
args
Echo
echoService
ServiceLoader
load
Echo
class
iterator
next
echoService
echoHello
IDE
main
Hello
world
SPI
Classpath
Spring
IOC
Spring
Spring
Spring
Boot
Spring
Bean
Bean
Spring
Bean
Spring
Java
Web
spring
config
name
RestController
public
class
EchoController
Value
app
features
helloEchoEnabled
private
boolean
helloEchoEnabled
GetMapping
hello
public
String
echo
if
helloEchoEnabled
return
Hello
World
return
null
app
features
helloEchoEnabled
false
Spring
Boot
Bean
condition
Bean
condition
ConditionalOnXX
Bean
ConditionalOnProperty
Bean
ConditionalOnExpression
EL
Bean
ConditionalOnBean
Bean
Bean
ConditionalOnClass
Classpath
Bean
ConditionalOnProperty
API
ConditionalOnProperty
app
features
helloEchoEnabled
RestController
public
class
DynamicEchoController
GetMapping
public
String
return
Hello
World
Bean
Configuration
public
class
FeatureConfiguration
Bean
ConditionalOnExpression
app
features
helloEchoEnabled
public
EchoService
echoService
return
new
EchoService
ConditionalOnXXX
Conditional
Condition
OnCloudPlatformCondition
Spring
Boot
Kubernetes
spring
main
cloud
platform
SDK
Profile
Spring
Boot
Profile
Profile
Profile
Conditional
Bean
Profile
Bean
Profile
uat
public
EchoService
echoService
return
new
EchoService
Spring
Boot
Profile
Profile
spring
profiles
group
uat
experimental
echo
experimental
output
Togglz
Togglz
Togglz
Starter
Sprint
Boot
dependency
groupId
org
togglz
groupId
artifactId
togglz
spring
boot
starter
artifactId
version
Final
version
dependency
togglz
spring
boot
starter
Bean
FeatureManager
togglz
console
togglz
spring
security
thymeleaf
extras
togglz
Togglz
Feature
FeatureManager
Togglz
public
enum
MyFeatures
implements
Feature
EnabledByDefault
Label
Hello
World
EnabledByDefault
Label
Experiment
EXPERIMENT
FeatureProvider
Configuration
public
class
TogglzConfig
Bean
public
FeatureProvider
featureProvider
return
new
EnumBasedFeatureProvider
MyFeatures
class
YAML
features
MyFeatures
togglz
features
enabled
false
RestController
public
class
TogglzEchoController
Autowired
private
FeatureManager
manager
RequestMapping
public
String
if
manager
isActive
return
Hello
return
null
Togglz
Bean
condition
Togglz
Spring
Togglz
Bean
Spring
Bean
condition
Togglz
ReleaseDateActivationStrategy
togglz
features
enabled
true
strategy
release
date
param
date
time
strategy
ID
ActivationStrategy
ID
param
ReleaseDateActivationStrategy
ReleaseDateActivationStrategy
public
boolean
isActive
FeatureState
featureState
FeatureUser
user
String
dateStr
featureState
getParameter
date
String
timeStr
featureState
getParameter
time
Date
releaseDate
this
parseReleaseDate
dateStr
timeStr
return
releaseDate
null
new
Date
after
releaseDate
false
Togglz
Username
FeatureManager
Bean
UserProvider
Gradual
rollout
Release
date
Client
IP
getRemoteAddr
IP
Server
IP
Server
IP
Client
IP
Server
IP
IP
IP
ScriptEngine
ECMAScript
JVM
ECMAScript
System
Properties
Togglz
ActivationStrategy
Togglz
Service
Provider
Interface
META
INF
services
org
togglz
core
spi
ActivationStrategy
ActivationStrategy
getId
getName
TogglzAdmin
Console
getParameters
getParameters
Parameter
isActive
FeatureState
state
FeatureUser
user
Header
public
class
HeaderParameterActivationStrategy
implements
ActivationStrategy
public
static
final
String
header
parameter
public
static
final
String
Header
Parameter
Activation
Strategy
Override
public
String
getId
return
Override
public
String
getName
return
Override
public
boolean
isActive
FeatureState
featureState
FeatureUser
featureUser
Spring
Boot
HTTP
HttpServletRequest
request
ServletRequestAttributes
RequestContextHolder
getRequestAttributes
getRequest
if
request
null
return
false
String
key
featureState
getParameter
key
String
secret
featureState
getParameter
secret
return
request
getHeader
key
equals
secret
Override
public
Parameter
getParameters
return
new
Parameter
ParameterBuilder
create
key
label
Key
in
header
ParameterBuilder
create
secret
label
Secret
in
header
Feature
Key
Secret
Header
Togglz
API
Togglz
API
API
API
API
HTML
window
Nginx
Nginx
HTML
HTML
window
window
config
helloEnable
true
headerParameterEnable
true
HTML
API
Dockerfile
FROM
nginx
COPY
nginx
default
conf
etc
nginx
conf
d
default
conf
COPY
nginx
nginx
conf
etc
nginx
nginx
conf
COPY
dist
usr
share
nginx
html
COPY
entrypoint
sh
RUN
chmod
x
entrypoint
sh
EXPOSE
entrypoint
sh
HTML
ENTRYPOINT
entrypoint
sh
CMD
nginx
g
daemon
off
entrypoint
sh
HTML
window
config
helloEnable
HELLO
true
headerParameterEnable
true
Web
API
Web
Web
Web
CDN
CDN
CDN
Cookie
IP
Cookie
Web
Hash
Cookie
Token
Cookie
version
version
Cookie
version
Togglz
IP
IP
IP
Hash
Hash
Togglz
try
int
percentage
Integer
valueOf
percentageAsString
if
percentage
int
hashCode
Math
abs
this
calculateHashCode
user
state
getFeature
return
hashCode
percentage
catch
NumberFormatException
this
log
error
Invalid
gradual
rollout
percentage
for
feature
state
getFeature
name
percentageAsString
Togglz
Apache
Apollo
Comet
Redis
Redis
Redis
Redis
Config
ConfigDispatcher
Redis
ConfigReporter
HSET
Redis
Spring
save
public
interface
EchoSaver
void
save
String
content
Service
public
class
implements
EchoSaver
Override
public
void
save
String
content
System
out
println
saved
Service
public
class
implements
EchoSaver
Override
public
void
save
String
content
System
out
println
saved
List
Autowired
private
List
EchoSaver
echoSavers
RequestMapping
echoSaver
public
void
echoSaver
echoSavers
forEach
saver
saver
save
test
data
Spring
Boot
Async
Application
EnableAsync
Async
SimpleAsyncTaskExecutor
SimpleAsyncTaskExecutor
Bean
public
Executor
asyncExecutor
ThreadPoolTaskExecutor
executor
new
ThreadPoolTaskExecutor
executor
setCorePoolSize
executor
setMaxPoolSize
executor
setQueueCapacity
executor
setKeepAliveSeconds
executor
setThreadNamePrefix
asyncExecutor
executor
setRejectedExecutionHandler
new
ThreadPoolExecutor
CallerRunsPolicy
executor
initialize
return
executor
Async
Async
Async
Async
Async
CDC
Change
data
capture
Debezium
Flink
CDC
ETL
DDD
Happy
Path
API
JUnit
JUnit
JUnit
IntelliJ
IDEA
Mockito
JaCoCo
Java
JUnit
JUnit
IntelliJ
IDEA
JUnit
JUnit
JUnit
JUnit
JUnit
IntelliJ
IDEA
Maven
JUnit
JUnit
Jar
junit
jar
hamcrest
core
jar
Jar
javac
Calculator
java
sum
public
class
Calculator
public
int
sum
int
a
int
b
return
a
b
Calculator
class
javac
Calculator
java
CalculatorTest
java
public
class
CalculatorTest
Test
public
void
evaluatesExpression
Calculator
calculator
new
Calculator
JUnit
int
sum
calculator
sum
assertEquals
sum
JUnit
JUnit
Hamcrest
Classpath
Linux
Mac
OS
Classpath
javac
cp
junit
jar
hamcrest
core
jar
CalculatorTest
java
Windows
Windows
Classpath
javac
cp
junit
jar
hamcrest
core
jar
CalculatorTest
java
Linux
Mac
OS
java
cp
junit
jar
hamcrest
core
jar
org
junit
runner
JUnitCore
CalculatorTest
JUnit
version
Time
OK
test
Java
jar
Java
java
jar
Test
jar
Jar
ZIP
ZIP
META
INF
MANIFEST
MF
junit
jar
Manifest
Version
Implementation
Vendor
JUnit
Implementation
Title
JUnit
Automatic
Module
Name
junit
Implementation
Version
Implementation
Vendor
Id
junit
Built
By
marc
Build
Jdk
Created
By
Apache
Maven
Implementation
URL
http
junit
org
Archiver
Version
Plexus
Archiver
java
org
junit
runner
JUnitCore
JUnit
IDE
IDE
Maven
JUnit
public
class
HelloWorldTest
Test
public
void
assertEquals
Hello
world
HelloWorld
hello
IntelliJ
IDEA
Java
Java
IntelliJ
IDEA
Library
Java
JavaVirtualMachines
jdk
Contents
Home
bin
java
ea
Didea
test
cyclic
buffer
size
javaagent
Applications
IntelliJ
IDEA
app
Contents
lib
jar
Applications
IntelliJ
IDEA
app
Contents
bin
Dfile
encoding
UTF
Users
nlin
repository
junit
junit
junit
jar
Users
nlin
repository
org
hamcrest
hamcrest
core
hamcrest
core
jar
com
intellij
rt
junit
JUnitStarter
cn
prinf
demos
junit
basic
HelloWorldTest
Java
IntelliJ
IDEA
java
agent
classpath
com
intellij
rt
junit
JUnitStarter
cn
prinf
demos
junit
basic
HelloWorldTest
IntelliJ
IDEA
JUnitStarter
JUnitStarter
JUnit
JUnit
JUnit
JUnitStarter
JUnit
JUnit
JUnit
IntelliJ
IDEA
JUnit
JUnit
JUnit
JUnit
JDK
JUnit
IntelliJ
IDEA
JUnit
IntelliJ
IDEA
IntelliJ
IDEA
JetBrains
IntelliJ
IDEA
JUnit
https
github
com
JetBrains
intellij
community
tree
master
plugins
src
com
intellij
rt
execution
junit
JUnit
Starter
java
main
IntelliJ
IDEA
JUnit
JUnitStarter
main
JUnit
Runner
JUnit
prepareStreamsAndStart
IdeaTestRunner
IdeaTestRumner
startRunnerWithArgs
JUnit
JUnit
JUnitCore
Runner
JUnitCore
run
JUnit
IntelliJ
IDEA
Runner
JUnit
Runner
IntelliJ
IDEA
Runner
IntelliJ
IDEA
Runner
IdeaTestRunner
JUnit
Runner
Runner
JUnitCore
Runner
Runner
JUnit
Runner
Runner
Runner
JUnit
Runner
Mockito
MockitoJUnitRunner
Spring
IntelliJ
IDEA
JUnitStarter
java
public
final
class
JUnitStarter
public
static
final
int
VERSION
public
static
final
String
ideVersion
public
static
final
String
public
static
final
String
public
static
final
String
private
static
final
String
idea
is
private
static
final
String
SOCKET
socket
private
static
final
String
com
intellij
private
static
final
String
com
intellij
private
static
final
String
com
intellij
private
static
String
ourForkMode
private
static
String
ourCommandFileName
private
static
String
ourWorkingDirs
static
int
ourCount
public
static
String
ourRepeatCount
JUnit
public
static
void
main
String
args
List
String
argList
new
ArrayList
String
Arrays
asList
args
final
ArrayList
String
listeners
new
ArrayList
String
final
String
name
new
String
String
agentName
processParameters
argList
listeners
name
if
equals
agentName
canWorkWithJUnitVersion
System
err
agentName
System
exit
if
checkVersion
args
System
err
System
exit
String
array
argList
toArray
new
String
int
exitCode
prepareStreamsAndStart
array
agentName
listeners
name
System
exit
exitCode
private
static
int
prepareStreamsAndStart
String
args
final
String
agentName
ArrayList
String
listeners
String
name
try
JUnit
IdeaTestRunner
IdeaTestRunner
testRunner
IdeaTestRunner
getAgentClass
agentName
newInstance
if
ourCommandFileName
null
if
none
equals
ourForkMode
ourWorkingDirs
null
new
File
ourWorkingDirs
length
final
List
String
newArgs
new
ArrayList
String
newArgs
add
agentName
newArgs
addAll
listeners
return
new
JUnitForkedSplitter
ourWorkingDirs
ourForkMode
newArgs
startSplitting
args
name
ourCommandFileName
ourRepeatCount
IdeaTestRuner
Repeater
startRunnerWithArgs
return
IdeaTestRunner
Repeater
startRunnerWithArgs
testRunner
args
listeners
name
ourCount
true
catch
Exception
e
e
printStackTrace
System
err
return
IntelliJ
IDEA
Runner
JUnit
IdeaTestRunner
java
public
interface
IdeaTestRunner
T
void
createListeners
ArrayList
String
listeners
int
count
int
startRunnerWithArgs
String
args
String
name
int
count
boolean
sendTree
T
getTestToStart
String
args
String
name
List
T
getChildTests
T
description
String
getStartDescription
T
child
String
getTestClassName
T
child
final
class
Repeater
public
static
int
startRunnerWithArgs
final
IdeaTestRunner
testRunner
final
String
args
ArrayList
String
listeners
final
String
name
final
int
count
boolean
sendTree
testRunner
createListeners
listeners
count
try
return
TestsRepeater
repeat
count
sendTree
new
TestsRepeater
TestRun
Override
public
int
execute
boolean
sendTree
return
testRunner
startRunnerWithArgs
args
name
count
sendTree
catch
Exception
e
e
printStackTrace
System
err
return
JUnit
noinspection
UnusedDeclaration
public
class
implements
IdeaTestRunner
public
int
startRunnerWithArgs
String
args
ArrayList
listeners
try
JUnit
JUnitCore
final
JUnitCore
runner
new
JUnitCore
final
Request
request
buildRequest
args
final
Runner
testRunner
request
getRunner
JUnit
try
Description
description
testRunner
getDescription
if
request
instanceof
ClassRequest
description
getSuiteMethodDescription
request
description
else
if
request
instanceof
FilterRequest
description
getFilteredDescription
request
description
sendTree
myRegistry
description
catch
Exception
e
noinspection
HardCodedStringLiteral
System
err
println
Internal
Error
occured
e
printStackTrace
System
err
IntelliJ
IDEA
JUnit
runner
addListener
myTestsListener
for
Iterator
iterator
listeners
iterator
iterator
hasNext
final
IDEAJUnitListener
junitListener
IDEAJUnitListener
Class
forName
String
iterator
next
newInstance
runner
addListener
new
RunListener
public
void
testStarted
Description
description
throws
Exception
junitListener
testStarted
getClassName
description
getMethodName
description
public
void
testFinished
Description
description
throws
Exception
junitListener
testFinished
getClassName
description
getMethodName
description
long
startTime
System
currentTimeMillis
runner
JUnit
testRunner
JUnit
Runner
Result
result
runner
run
testRunner
sortWith
new
Comparator
public
int
compare
Object
Object
return
Description
getDisplayName
compareTo
Description
getDisplayName
long
endTime
System
currentTimeMillis
long
runTime
endTime
startTime
new
TimeSender
printHeader
runTime
if
result
wasSuccessful
return
return
catch
Exception
e
e
printStackTrace
System
err
return
JUnitCore
IntelliJ
IDEA
JUnitCore
JUnitCore
JUnit
IntelliJ
IDEA
Runner
public
Result
run
Runner
runner
Result
result
new
Result
RunListener
listener
result
createListener
notifier
addFirstListener
listener
try
notifier
fireTestRunStarted
runner
getDescription
runner
run
notifier
notifier
fireTestRunFinished
result
finally
removeListener
listener
return
result
IntelliJ
IDEA
JUnit
IntelliJ
IDEA
IntelliJ
IDEA
Runner
JUnit
JUnitCore
API
Runner
JUnitCore
Notifier
JUnit
Runner
Runner
JUnitCore
JUnitCore
run
run
JUnit
JUnit
Computer
Runner
Request
Runner
JUnitCore
run
Runner
public
Result
run
Class
classes
defaultComputer
Runner
Computer
run
return
run
defaultComputer
classes
public
Result
run
Computer
computer
Class
classes
Request
Request
run
return
run
Request
classes
computer
classes
public
Result
run
Request
request
Runner
Runner
run
run
return
run
request
getRunner
static
Computer
defaultComputer
return
new
Computer
Runner
JUnitCore
JUnit
Runner
Runner
public
final
class
extends
public
Class
klass
throws
InitializationError
super
new
TestClass
klass
JUnitCore
run
Notifier
Listener
ParentRunner
run
ParentRunner
ParentRunner
Disable
Override
public
void
run
final
RunNotifier
notifier
EachTestNotifier
testNotifier
new
EachTestNotifier
notifier
getDescription
testNotifier
fireTestSuiteStarted
try
Before
Statement
statement
classBlock
notifier
statement
evaluate
catch
AssumptionViolatedException
e
testNotifier
addFailedAssumption
e
catch
StoppedByUserException
e
throw
e
catch
Throwable
e
testNotifier
addFailure
e
finally
testNotifier
fireTestSuiteFinished
Statement
Statement
BeforeClass
AfterClass
Rule
Statement
BeforeEach
AfterEach
Statement
protected
Statement
classBlock
final
RunNotifier
notifier
Statement
statement
childrenInvoker
notifier
if
areAllChildrenIgnored
statement
withBeforeClasses
statement
statement
withAfterClasses
statement
statement
withClassRules
statement
statement
withInterruptIsolation
statement
return
statement
with
childrenInvoker
notifier
childrenInvoker
notifier
Statement
protected
Statement
childrenInvoker
final
RunNotifier
notifier
return
new
Statement
Override
public
void
evaluate
runChildren
notifier
withBeforeClasses
statement
RunBefores
Statement
Statement
JUnit
protected
Statement
withBeforeClasses
Statement
statement
List
FrameworkMethod
befores
testClass
getAnnotatedMethods
BeforeClass
class
BeforeClass
statement
return
befores
isEmpty
statement
new
RunBefores
statement
befores
null
RunBefores
Statement
Statement
withBeforeClasses
statement
with
withInterruptIsolation
statement
protected
final
Statement
withInterruptIsolation
final
Statement
statement
return
new
Statement
Override
public
void
evaluate
throws
Throwable
try
statement
evaluate
finally
Thread
interrupted
Statement
Thread
interrupted
Statement
childrenInvoker
runChildren
notifier
private
void
runChildren
final
RunNotifier
notifier
final
RunnerScheduler
currentScheduler
scheduler
try
for
final
T
each
getFilteredChildren
currentScheduler
schedule
new
Runnable
public
void
run
ParentRunner
this
runChild
each
notifier
finally
currentScheduler
finished
RunnerScheduler
JUnit
runChild
protected
void
runChild
final
FrameworkMethod
method
RunNotifier
notifier
Description
description
describeChild
method
if
isIgnored
method
notifier
fireTestIgnored
description
else
Statement
statement
new
Statement
Override
public
void
evaluate
throws
Throwable
methodBlock
method
evaluate
runLeaf
statement
description
notifier
methodBlock
classBlock
methodBlock
protected
Statement
methodBlock
final
FrameworkMethod
method
Object
test
try
test
new
ReflectiveCallable
Override
protected
Object
runReflectiveCall
throws
Throwable
return
createTest
method
run
catch
Throwable
e
return
new
Fail
e
Statement
statement
methodInvoker
method
test
statement
possiblyExpectingExceptions
method
test
statement
statement
withPotentialTimeout
method
test
statement
statement
withBefores
method
test
statement
statement
withAfters
method
test
statement
statement
withRules
method
test
statement
statement
withInterruptIsolation
statement
return
statement
methodBlock
classBlock
with
Class
methodInvoker
method
test
JUnit
protected
Statement
methodInvoker
FrameworkMethod
method
Object
test
return
new
InvokeMethod
method
test
possiblyExpectingExceptions
Test
expected
protected
Statement
possiblyExpectingExceptions
FrameworkMethod
method
Object
test
Statement
next
Test
annotation
method
getAnnotation
Test
class
Test
expected
Class
extends
Throwable
expectedExceptionClass
getExpectedException
annotation
return
expectedExceptionClass
null
new
ExpectException
next
expectedExceptionClass
next
private
Class
extends
Throwable
getExpectedException
Test
annotation
if
annotation
null
annotation
expected
None
class
return
null
else
return
annotation
expected
runChild
statement
runLeaf
statement
description
notifier
protected
final
void
runLeaf
Statement
statement
Description
description
RunNotifier
notifier
EachTestNotifier
eachNotifier
new
EachTestNotifier
notifier
description
eachNotifier
fireTestStarted
try
statement
evaluate
catch
AssumptionViolatedException
e
eachNotifier
addFailedAssumption
e
catch
Throwable
e
eachNotifier
addFailure
e
finally
eachNotifier
fireTestFinished
runLeaf
Before
methodInvoker
method
test
InvokeMethod
evaluate
public
class
InvokeMethod
extends
Statement
private
final
FrameworkMethod
testMethod
private
final
Object
target
public
InvokeMethod
FrameworkMethod
testMethod
Object
target
this
testMethod
testMethod
this
target
target
Override
public
void
evaluate
throws
Throwable
testMethod
invokeExplosively
target
public
Object
invokeExplosively
final
Object
target
final
Object
params
throws
Throwable
return
new
ReflectiveCallable
Override
protected
Object
runReflectiveCall
throws
Throwable
JRE
return
method
invoke
target
params
run
runLeaf
statement
evaluate
eachNotifier
IntelliJ
IDEA
Notifier
Listener
IntelliJ
IDEA
Notifier
Listener
GUI
Notifier
Listener
GUI
JUnit
JUnit
JUnit
JUnit
JUnit
Hamcrest
HelloWorldTest
assertEquals
public
static
void
assertEquals
String
message
Object
expected
Object
actual
if
equalsRegardingNull
expected
actual
return
if
expected
instanceof
String
actual
instanceof
String
String
cleanMessage
message
null
message
throw
new
ComparisonFailure
cleanMessage
String
expected
String
actual
else
failNotEquals
message
expected
actual
JUnit
JUnit
Hamcrest
assertThat
JUnit
assertThat
Hamcrest
API
JUnit
assertThat
Matcher
Hamcrest
Criteria
Pattern
JPA
Mybatis
Test
public
void
assertThat
HelloWorld
hello
Is
is
Hello
world
assertThat
Matcher
Hamcrest
Matcher
Matcher
Matcher
anyOf
Matcher
Matcher
True
assertThat
HelloWorld
hello
anyOf
is
Hello
world
is
Hello
JUnit
JUnit
JUnit
JUnit
JUnit
JUnit
Rule
Rule
Rule
ExpectedException
Rule
Listener
Notifier
Runner
Runner
JUnit
Mockito
Spring
JUnit
JUnit
Spring
MVC
Spring
Security
JUnit
JUnit
JUnit
UML
UML
JUnit
Java
Mockito
JaCoCo
Mockito
Mockito
Mockito
when
when
when
LinkedList
mockedList
mock
LinkedList
class
when
mockedList
get
thenReturn
first
first
System
out
println
mockedList
get
null
System
out
println
mockedList
get
when
when
Mockito
Mockito
Mockito
mock
Mockito
when
Mockito
API
Mockito
mock
Mockito
Mockito
mock
mock
Mockito
Byte
Buddy
Objenesis
Byte
Buddy
Byte
Buddy
ASM
Mockito
mock
Mockito
mock
Mockito
MockitoCore
mock
MockitoCore
mock
Class
T
classToMock
MockSettings
mockSettings
public
static
T
T
mock
Class
T
classToMock
MockSettings
mockSettings
return
mock
classToMock
mockSettings
MockSettings
MockitoCore
createMock
MockCreationSettings
mockingProgress
when
verify
MockitoCore
public
T
T
mock
Class
T
typeToMock
MockSettings
settings
if
MockSettingsImpl
class
isInstance
settings
throw
new
IllegalArgumentException
Unexpected
implementation
of
settings
getClass
getCanonicalName
n
At
the
moment
you
cannot
provide
your
own
implementations
of
that
class
MockSettingsImpl
impl
MockSettingsImpl
class
cast
settings
MockCreationSettings
T
creationSettings
impl
build
typeToMock
T
mock
createMock
creationSettings
mockingProgress
mockingStarted
mock
creationSettings
return
mock
createMock
MockMaker
MockMaker
Mockito
Mockito
Setting
public
static
T
T
createMock
MockCreationSettings
T
settings
MockHandler
mockHandler
createMockHandler
settings
T
mock
mockMaker
createMock
settings
mockHandler
Object
spiedInstance
settings
getSpiedInstance
if
spiedInstance
null
new
LenientCopyTool
copyToMock
spiedInstance
mock
return
mock
mockMaker
ByteBuddyMockMaker
SubclassByteBuddyMockMaker
SubclassByteBuddyMockMaker
createMock
public
T
T
createMock
MockCreationSettings
T
settings
MockHandler
handler
Class
extends
T
mockedProxyType
createMockType
settings
Objenesis
Instantiator
instantiator
Plugins
getInstantiatorProvider
getInstantiator
settings
T
mockInstance
null
try
mockInstance
instantiator
newInstance
mockedProxyType
MockAccess
mockAccess
MockAccess
mockInstance
mockAccess
setMockitoInterceptor
new
MockMethodInterceptor
handler
settings
return
ensureMockIsAssignableToMockedType
settings
mockInstance
createMockType
ByteBuddy
Mockito
JVM
Java
Class
newInstance
Objenesis
JVM
Mockito
createMockType
public
T
Class
extends
T
createMockType
MockCreationSettings
T
settings
try
return
cachingMockBytecodeGenerator
mockClass
MockFeatures
withMockFeatures
settings
getTypeToMock
settings
getExtraInterfaces
settings
getSerializableMode
settings
isStripAnnotations
catch
Exception
bytecodeGenerationFailed
throw
prettifyFailure
settings
bytecodeGenerationFailed
createMockType
mockClass
ConcurrentMap
public
T
Class
T
mockClass
final
MockFeatures
T
params
try
ClassLoader
classLoader
params
mockedType
getClassLoader
return
Class
T
typeCache
findOrInsert
classLoader
new
MockitoMockKey
params
mockedType
params
interfaces
params
serializableMode
params
stripAnnotations
new
Callable
Class
Override
public
Class
call
throws
Exception
return
bytecodeGenerator
mockClass
params
catch
IllegalArgumentException
exception
Throwable
cause
exception
getCause
if
cause
instanceof
RuntimeException
throw
RuntimeException
cause
else
throw
exception
mock
bytecodeGenerator
mockClass
params
mockClass
SubclassBytecodeGenerator
ByteBuddy
mockClass
Mockito
SubclassBytecodeGenerator
handler
MockHandler
Handler
MockHandler
MockAccess
ByteBuddy
ByteBuddy
DynamicType
Builder
T
builder
byteBuddy
subclass
features
mockedType
name
name
ignoreAlso
isGroovyMethod
annotateType
features
stripAnnotations
new
Annotation
features
mockedType
getAnnotations
implement
new
ArrayList
Type
features
interfaces
method
matcher
MockHandler
intercept
dispatcher
transform
withModifiers
SynchronizationState
PLAIN
attribute
features
stripAnnotations
MethodAttributeAppender
NoOp
INSTANCE
method
isHashCode
intercept
hashCode
method
isEquals
intercept
equals
serialVersionUid
defineField
mockitoInterceptor
MockMethodInterceptor
class
PRIVATE
MockAccess
implement
MockAccess
class
intercept
FieldAccessor
ofBeanProperty
Mockito
ByteBuddy
Mockito
Test
public
void
throws
IllegalAccessException
InstantiationException
Class
dynamicType
new
ByteBuddy
subclass
ArrayList
class
method
ElementMatchers
named
get
intercept
FixedValue
value
Hello
World
make
load
getClass
getClassLoader
getLoaded
assertThat
ArrayList
dynamicType
newInstance
get
is
Hello
World
Mockito
ByteBuddy
ArrayList
ByteBuddy
Mockito
when
when
when
Mockito
when
then
MockitoCore
MockitoCore
MockCreationSettings
T
creationSettings
impl
build
typeToMock
T
mock
createMock
creationSettings
mockingProgress
mockingStarted
mock
creationSettings
return
mock
mockingProgress
ThreadLocal
MockingProgress
when
when
when
mockedList
get
when
mockedList
get
thenReturn
first
mockedList
get
System
out
println
mockedList
get
Mockito
mockedList
get
ByteBuddy
MockMethodInterceptor
DispatcherDefaultingToRealMethod
interceptSuperCallable
Dispatcher
interceptSuperCallable
moekedList
get
interceptSuperCallable
interceptSuperCallable
dolntercept
MockHandler
Object
doIntercept
Object
mock
Method
invokedMethod
Object
arguments
RealMethod
realMethod
Location
location
throws
Throwable
MockHandler
return
handler
handle
createInvocation
mock
invokedMethod
arguments
realMethod
mockCreationSettings
location
MockHandler
MockHandlerlmpl
handle
Stubbing
null
Handler
doThrow
doAnswer
Answer
then
Answer
verify
public
Object
handle
Invocation
invocation
throws
Throwable
doAnswer
answer
when
mockedList
get
if
invocationContainer
hasAnswersForStubbing
InvocationMatcher
invocationMatcher
matchersBinder
bindMatchers
mockingProgress
getArgumentMatcherStorage
invocation
invocationContainer
setMethodForStubbing
invocationMatcher
return
null
if
stubbing
null
stubbing
captureArgumentsFrom
invocation
try
return
stubbing
answer
invocation
finally
mockingProgress
reportOngoingStubbing
ongoingStubbing
else
Object
ret
mockSettings
getDefaultAnswer
answer
invocation
DefaultAnswerValidator
validateReturnValueFor
invocation
ret
invocationContainer
resetInvocationForPotentialStubbing
invocationMatcher
return
ret
Mockito
when
when
OngoingStubbing
then
public
static
T
OngoingStubbing
T
when
T
methodCall
return
when
methodCall
Handler
when
public
T
OngoingStubbing
T
when
T
methodCall
MockingProgress
mockingProgress
mockingProgress
mockingProgress
stubbingStarted
SuppressWarnings
unchecked
OngoingStubbing
T
stubbing
OngoingStubbing
T
mockingProgress
pullOngoingStubbing
if
stubbing
null
when
mockingProgress
reset
throw
missingMethodInvocation
return
stubbing
thenReturn
thenThrow
OngoingStubbing
thenAnswer
Answer
public
OngoingStubbing
T
thenAnswer
Answer
answer
if
this
invocationContainer
hasInvocationForPotentialStubbing
throw
Reporter
incorrectUseOfApi
else
this
invocationContainer
addAnswer
answer
this
strictness
return
new
ConsecutiveStubbing
this
invocationContainer
Mockito
when
OngoingStubbing
MockingProgress
InvocationContainer
Mockito
Mockito
verify
verify
verify
verify
MockHandler
verify
verify
mock
doSome
when
mockedList
get
thenReturn
first
System
out
println
mockedList
get
verify
mockedList
get
verify
verify
verify
T
mock
VerificationMode
mode
verify
public
T
T
verify
T
mock
VerificationMode
mode
MockingProgress
mockingProgress
mockingProgress
VerificationMode
actualMode
mockingProgress
maybeVerifyLazily
mode
mockingProgress
verificationStarted
new
MockAwareVerificationMode
mock
actualMode
mockingProgress
verificationListeners
return
mock
mockingProgress
verificationStarted
VerificationMode
public
void
verificationStarted
VerificationMode
verify
validateState
resetOngoingStubbing
verificationMode
new
Localized
verify
mockingProgress
verificationMode
verify
mockedList
get
MockHandler
when
handle
verify
verify
verify
mockingProgress
verificationMode
verificationMode
verify
verify
public
Object
handle
Invocation
invocation
throws
Throwable
doThrow
doAnswer
JaCoCo
VerificationMode
verificationMode
mockingProgress
pullVerificationMode
InvocationMatcher
invocationMatcher
matchersBinder
bindMatchers
mockingProgress
getArgumentMatcherStorage
invocation
mockingProgress
validateState
if
verificationMode
null
VerificationDataImpl
data
new
VerificationDataImpl
invocationContainer
invocationMatcher
verificationMode
verify
data
VerificationMode
Times
Timeout
AtLeast
Timeout
Times
AtLeast
JaCoCo
JaCoCo
Java
Class
Java
agent
On
the
fly
Java
agent
Offline
On
the
fly
javaaagent
Jar
JVM
ClassLoader
Class
Class
Java
agent
Java
agent
Class
Offline
Java
agent
JVM
Java
agent
Java
JVM
VM
Android
Dalvik
VM
JVM
Java
agent
APM
Java
agent
Java
apm
agent
java
Arthas
Java
agent
Java
agent
IntelliJ
IDEA
Run
xxx
with
Coverage
javaaagent
Java
agent
JaCoCo
Java
agent
Java
agent
Java
agent
Instrumentation
API
Java
java
lang
instrument
Java
Java
Java
agent
Jar
JVM
Java
JVMTI
JVM
Tool
Interface
Java
Native
JVM
C
C
JNI
Java
agent
JVMTI
Java
Java
Java
agent
JVMTI
API
Java
agent
JVM
premain
JDK
Attach
API
agentmain
Java
agent
main
premain
agentmain
JaCoCo
Java
agent
java
javaagent
agent
jar
jar
application
jar
Java
agent
Maven
Jar
Maven
xml
version
encoding
UTF
project
xmlns
http
maven
apache
org
POM
xmlns
xsi
http
www
org
XMLSchema
instance
xsi
schemaLocation
http
maven
apache
org
POM
http
maven
apache
org
xsd
maven
xsd
modelVersion
modelVersion
groupId
cn
prinf
demos
groupId
artifactId
javaagent
artifactId
version
version
packaging
jar
packaging
build
plugins
JaCoCo
plugin
groupId
org
apache
maven
plugins
groupId
artifactId
maven
jar
plugin
artifactId
configuration
archive
manifestEntries
Premain
Class
cn
prinf
demos
javaagent
AgentMain
Premain
Class
Agent
Class
cn
prinf
demos
javaagent
AgentMain
Agent
Class
Can
Redefine
Classes
true
Can
Redefine
Classes
Can
Retransform
Classes
true
Can
Retransform
Classes
manifestEntries
archive
configuration
plugin
plugins
build
project
Java
agent
maven
jar
plugin
manifestEntries
Jar
Main
Class
Java
agent
Premain
Class
Agent
Class
JVM
Can
Redefine
Classes
Can
Retransform
Classes
Java
agent
Java
agent
public
class
AgentMain
public
static
void
premain
String
agentArgs
Instrumentation
instrumentation
System
out
println
Agent
started
System
out
println
premain
public
static
void
agentmain
String
agentArgs
Instrumentation
inst
System
out
println
Agent
started
System
out
println
agentmain
Maven
Jar
mvn
clean
package
Jar
Jar
java
javaagent
javaagent
jar
jar
helloworld
SNAPSHOT
jar
Hello
world
Java
agent
Java
agentmain
Agent
started
premain
Hello
world
Java
agent
JaCoCo
instrumentation
premain
ClassFileTransformer
instrumentation
addTransformer
new
ClassFileTransformer
public
byte
transform
ClassLoader
loader
String
className
Class
classBeingRedefined
ProtectionDomain
protectionDomain
byte
classfileBuffer
throws
IllegalClassFormatException
System
out
println
class
loaded
className
return
new
byte
Java
agent
Agent
started
premain
class
loaded
jdk
jfr
internal
EventWriter
class
loaded
sun
launcher
LauncherHelper
class
loaded
java
lang
invoke
VarHandle
AccessDescriptor
class
loaded
java
io
RandomAccessFile
class
loaded
cn
printf
demos
helloworld
Application
Hello
world
class
loaded
java
util
IdentityHashMap
KeyIterator
class
loaded
java
util
IdentityHashMap
IdentityHashMapIterator
class
loaded
java
lang
Shutdown
class
loaded
java
lang
Shutdown
Lock
JVM
Mockito
ByteBuddy
ByteBuddy
Java
ASM
Class
Class
JVM
ASM
JVM
Javassist
API
ASM
JDK
JaCoCo
ASM
JaCoCo
ASM
ASM
OpenJDK
Lambda
Java
agent
ASM
Maven
ASM
dependency
groupId
asm
groupId
JaCoCo
artifactId
asm
artifactId
version
version
dependency
Jar
Jar
maven
shade
plugin
plugin
groupId
org
apache
maven
plugins
groupId
artifactId
maven
shade
plugin
artifactId
executions
execution
phase
package
phase
goals
goal
shade
goal
goals
execution
executions
configuration
artifactSet
includes
include
asm
asm
jar
include
includes
artifactSet
configuration
plugin
ASM
API
Jar
Jar
asm
asm
commons
API
asm
tree
API
asm
analysis
asm
util
Java
agent
ASM
ASM
API
ASM
public
static
void
premain
String
arguments
Instrumentation
instrumentation
instrumentation
instrumentation
addTransformer
new
ClassFileTransformer
Override
public
byte
transform
ClassLoader
loader
String
className
Class
classBeingRedefined
ProtectionDomain
protectionDomain
byte
classfileBuffer
throws
IllegalClassFormatException
if
className
equals
cn
printf
demos
helloworld
Application
System
out
println
from
transform
className
reader
writer
ASM
I
O
ClassReader
reader
new
ClassReader
classfileBuffer
ClassWriter
writer
new
ClassWriter
reader
ClassWriter
FRAMES
ClassWriter
reader
visitor
reader
accept
new
MyClassVisitor
writer
ClassReader
return
writer
toByteArray
return
new
byte
Java
ASM
API
Java
Class
Class
JVM
javap
verbose
public
class
Application
public
static
void
main
String
args
System
out
println
Hello
world
Last
modified
Oct
size
bytes
checksum
Compiled
from
Application
java
public
class
cn
printf
demos
helloworld
Application
minor
version
major
version
flags
cn
printf
demos
helloworld
Application
java
lang
Object
interfaces
fields
methods
attributes
Constant
pool
Methodref
java
lang
Object
init
V
Fieldref
java
lang
System
out
Ljava
io
PrintStream
String
Hello
world
Methodref
java
io
PrintStream
println
Ljava
lang
String
V
Class
cn
printf
demos
helloworld
Application
Class
java
lang
Object
init
V
Code
LineNumberTable
JaCoCo
LocalVariableTable
public
cn
printf
demos
helloworld
Application
descriptor
V
flags
Code
stack
locals
invokespecial
Method
java
lang
Object
init
V
return
LineNumberTable
line
LocalVariableTable
Start
Length
Slot
Name
Signature
this
Lcn
printf
demos
helloworld
Application
main
public
static
void
main
java
lang
String
descriptor
Ljava
lang
String
V
flags
Code
System
out
println
Hello
world
stack
locals
getstatic
Field
java
lang
System
out
Ljava
io
PrintStream
ldc
String
Hello
world
invokevirtual
Method
java
io
PrintStream
println
Ljava
lang
String
V
return
LineNumberTable
line
line
LocalVariableTable
Start
Length
Slot
Name
Signature
args
Ljava
lang
String
SourceFile
Application
java
return
ASM
ASM
main
Java
Agent
premain
reader
ASM
ClassVisitor
visitAnnotation
visitField
visitMethod
visitInnerClass
MyClassVisitor
asm
commons
ClassAdapter
public
static
class
MyClassVisitor
extends
ClassAdapter
public
MyClassVisitor
ClassVisitor
classVisitor
super
classVisitor
Override
public
MethodVisitor
visitMethod
int
access
String
name
String
desc
String
signature
String
exceptions
MethodVisitor
methodVisitor
super
visitMethod
access
name
desc
signature
exceptions
if
name
equals
main
return
new
MyMethodVisitor
methodVisitor
name
else
return
methodVisitor
private
static
class
MyMethodVisitor
extends
MethodAdapter
private
final
String
name
public
MyMethodVisitor
MethodVisitor
methodVisitor
String
name
super
methodVisitor
this
name
name
Override
public
void
visitCode
super
visitCode
TODO
ASM
JaCoCo
visitCode
TODO
ASM
API
Override
public
void
visitCode
super
visitCode
mv
visitFieldInsn
Opcodes
GETSTATIC
Type
getInternalName
System
class
out
Type
getDescriptor
PrintStream
class
mv
visitLdcInsn
hack
by
ASM
for
method
name
mv
visitMethodInsn
Opcodes
INVOKEVIRTUAL
Type
getInternalName
PrintStream
class
println
Ljava
lang
String
V
System
out
println
hack
by
ASM
for
method
xxx
getstatic
ldc
invokevirtual
println
Java
JVM
println
System
out
hack
by
ASM
for
method
xxx
Java
agent
hack
by
ASM
for
method
main
ASM
Java
agent
Java
Java
agent
JaCoCo
Java
agent
JaCoCo
Java
agent
Java
agent
IntelliJ
IDEA
IntelliJ
IDEA
Debug
Library
Java
JavaVirtualMachines
jdk
Contents
Home
bin
java
agentlib
jdwp
transport
address
suspend
y
server
n
IntelliJ
IDEA
Debug
Java
agent
Java
agent
Jar
IntelliJ
IDEA
Java
agent
Jar
Java
agent
Java
agent
Java
agent
helloworld
SNAPSHOT
jar
Java
agent
java
agentlib
jdwp
transport
server
y
suspend
y
address
java
agent
target
javaagent
jar
jar
helloworld
SNAPSHOT
jar
JVM
Listening
for
transport
at
address
IntelliJ
IDEA
Debugger
Attach
to
remote
JaCoCo
JVM
JVM
JVM
Debug
IntelliJ
IDEA
Debug
IntelliJ
IDEA
IntelliJ
IDEA
Maven
Java
agent
IntelliJ
IDEA
IntelliJ
IDEA
IntelliJ
IDEA
IntelliJ
IDEA
Java
agent
VM
Java
agent
Jar
VM
Jar
Java
agent
JaCoCo
agent
Java
agent
ASM
JaCoCo
JaCoCo
Release
Master
JaCoCo
Maven
Ant
Maven
Java
agent
java
API
JaCoCo
Ant
Maven
JaCoCo
Java
agent
JaCoCo
Java
agent
JaCoCo
JaCoCo
org
jacoco
core
org
jacoco
agent
org
jacoco
agent
rt
org
jacoco
examples
org
jacoco
ant
org
jacoco
report
org
jacoco
build
org
jacoco
cli
org
jacoco
doc
org
jacoco
agent
test
org
jacoco
examples
test
org
jacoco
ant
test
org
jacoco
report
test
org
jacoco
tests
org
jacoco
cli
test
org
jacoco
core
test
org
jacoco
agent
rt
test
org
jacoco
core
test
validation
groovy
org
jacoco
core
test
validation
org
jacoco
core
test
validation
org
jacoco
core
test
validation
org
jacoco
core
test
validation
org
jacoco
core
test
validation
org
jacoco
core
test
validation
kotlin
org
jacoco
core
test
validation
scala
org
jacoco
core
test
validation
org
jacoco
core
org
jacoco
agent
rt
org
jacoco
agent
Java
agent
Java
agent
org
jacoco
agent
rt
org
jacoco
agent
rt
Jar
JaCoCo
Maven
IntelliJ
IDEA
Maven
Jar
org
jacoco
agent
rt
target
Jar
all
shade
java
JUnit
Jar
hamcrest
core
Jar
JaCoCo
hamcrest
core
jar
junit
jar
Calculator
class
CalculatorTest
class
Class
org
jacoco
agent
rt
JaCoCo
Java
agent
Jar
java
javaagent
target
org
jacoco
agent
rt
all
jar
cp
junit
jar
hamcrest
core
jar
org
junit
runner
JUnitCore
CalculatorTest
JaCoCo
jacoco
exec
java
agentlib
jdwp
transport
server
y
suspend
y
address
java
agent
target
org
jacoco
agent
rt
all
jar
cp
junit
jar
hamcrest
core
jar
org
junit
runner
JUnitCore
CalculatorTest
JUnit
Debug
IntelliJ
IDEA
PreMain
preMain
IDE
IntelliJ
IDEA
JaCoCo
Pom
Java
agent
shade
IDE
org
jacoco
agent
rt
pom
xml
relocations
relocation
pattern
org
jacoco
agent
rt
internal
pattern
shadedPattern
jacoco
runtime
package
name
shadedPattern
relocation
relocation
pattern
org
jacoco
core
pattern
shadedPattern
jacoco
runtime
package
name
core
shadedPattern
relocation
relocation
pattern
org
objectweb
asm
pattern
shadedPattern
jacoco
runtime
package
name
asm
shadedPattern
relocation
relocations
Jar
Premain
Class
manifestEntries
Agent
Premain
Class
org
jacoco
agent
rt
internal
PreMain
Premain
Class
Automatic
Module
Name
project
artifactId
Automatic
Module
Name
Implementation
Title
project
description
Implementation
Title
Implementation
Vendor
project
organization
name
Implementation
Vendor
Implementation
Version
project
version
Implementation
Version
manifestEntries
Jar
JaCoCo
JaCoCo
org
jacoco
agent
rt
JaCoCo
Java
agent
Java
agent
Agent
Instrumenter
core
org
jacoco
core
ASM
org
jacoco
agent
rt
preMain
public
static
void
premain
final
String
options
final
Instrumentation
inst
throws
Exception
javaagent
Java
agent
javaagent
yourpath
jacocoagent
jar
final
AgentOptions
agentOptions
new
AgentOptions
options
JaCoCo
Agent
final
Agent
agent
Agent
getInstance
agentOptions
Runtime
final
IRuntime
runtime
createRuntime
inst
runtime
startup
agent
getData
Instrumentation
API
Java
agent
API
inst
addTransformer
new
CoverageTransformer
runtime
agentOptions
IExceptionLogger
Agent
Runtime
CoverageTransformer
JaCoCo
Instrumenter
Instrumenter
core
public
CoverageTransformer
final
IRuntime
runtime
final
AgentOptions
options
final
IExceptionLogger
logger
this
instrumenter
new
Instrumenter
runtime
this
logger
logger
CoverageTransformer
JVM
transform
JaCoCo
transform
public
byte
transform
final
ClassLoader
loader
final
String
classname
final
Class
classBeingRedefined
final
ProtectionDomain
protectionDomain
final
byte
classfileBuffer
throws
IllegalClassFormatException
try
classFileDumper
dump
classname
classfileBuffer
return
instrumenter
instrument
classfileBuffer
classname
catch
final
Exception
ex
instrumenter
instrument
Java
agent
JaCoCo
Jaya
agent
JaCoCo
Class
JaCoCo
Instrumenter
examples
CoreTutorial
CoreTutorial
Java
API
JaCoCo
org
jacoco
examples
CoreTutorial
JaCoCo
JaCoCo
Java
API
Java
agent
JaCoCo
CoreTutorial
TestTarget
MemoryClassLoader
TestTarget
public
static
class
TestTarget
implements
Runnable
public
void
run
isPrime
private
boolean
isPrime
final
int
n
for
int
i
i
i
n
i
if
n
i
return
false
return
true
MemoryClassLoader
JVM
CoreTutorial
execute
CoreTutorial
JaCoCo
Agent
JVM
JUnit
Runner
public
void
execute
throws
Exception
final
String
targetName
TestTarget
class
getName
final
IRuntime
runtime
new
LoggerRuntime
final
Instrumenter
instr
new
Instrumenter
runtime
InputStream
original
getTargetClass
targetName
JaCoCo
final
byte
instrumented
instr
instrument
original
targetName
original
close
LoggerRuntime
Instrumenter
core
getTargetClass
ASM
private
InputStream
getTargetClass
final
String
name
final
String
resource
name
replace
class
return
getClass
getResourceAsStream
resource
Classpath
Class
Class
JVM
Java
instrument
instrument
ClassVisitor
private
byte
instrument
final
byte
source
final
long
classId
classId
source
final
ClassReader
reader
InstrSupport
classReaderFor
source
final
ClassWriter
writer
new
ClassWriter
reader
Override
protected
String
getCommonSuperClass
final
String
final
String
throw
new
IllegalStateException
final
IProbeArrayStrategy
strategy
ProbeArrayStrategyFactory
createFor
classId
reader
accessorGenerator
final
int
version
InstrSupport
getMajorVersion
reader
final
ClassVisitor
visitor
new
ClassProbesAdapter
new
ClassInstrumenter
strategy
writer
InstrSupport
needsFrames
version
reader
accept
visitor
ClassReader
return
writer
toByteArray
ClassVisitor
IProbeArrayStrategy
JaCoCo
true
ClassFieldProbeArrayStrategy
ClassProbesAdapter
ASM
ClassVisitor
ClassInstrumenter
JaCoCo
a
b
c
CoreTutorial
instrument
try
FileOutputStream
stream
new
FileOutputStream
Users
nlin
www
jacoco
org
jacoco
examples
target
class
stream
write
instrumented
TestTarget
public
class
CoreTutorial
TestTarget
implements
Runnable
FF
synthetic
field
private
static
transient
boolean
jacocoData
public
CoreTutorial
TestTarget
boolean
jacocoInit
super
true
public
void
run
boolean
jacocoInit
this
isPrime
true
private
boolean
isPrime
int
n
boolean
jacocoInit
int
i
for
true
i
i
n
true
if
n
i
true
return
false
i
true
return
true
FF
synthetic
method
private
static
boolean
jacocoInit
boolean
jacocoData
if
jacocoData
null
JaCoCo
Object
new
Object
Long
valueOf
org
jacoco
examples
CoreTutorial
TestTarget
Integer
valueOf
Logger
getLogger
jacoco
runtime
log
Level
INFO
jacocoData
boolean
return
JaCoCo
jacocoData
jacocolnit
instrument
readeraccept
visitor
ClassReader
JaCoCo
ClassProbesAdapter
Classlnstrumenter
ClassProbesAdapter
ASM
ClassInstrumenter
MethodInstrumenter
MethodProbesAdapter
ASM
ASM
MethodInstrumenter
ProbeInserter
ClassFieldProbeArrayStrategy
ASM
ClassProbesAdapter
ASM
visit
visitMethod
visitEnd
visit
visitMethod
visitEnd
visitMethod
visitEnd
jacocolnit
jacocoData
JaCoCo
ClassProbesAdapter
ASM
ClassInstrumenter
ClassProbesAdapter
ClassInstrumenter
visitMethod
ClassProbesAdapter
visitMethod
ClassInstrumenter
ClassInstrumenter
visitMethod
ClassProbesAdapter
MethodSanitizer
visitEnd
ClassProbesAdapter
visitMethod
Override
public
final
MethodVisitor
visitMethod
final
int
access
final
String
name
final
String
desc
final
String
signature
final
String
exceptions
final
MethodProbesVisitor
methodProbes
cv
ClassInstrumenter
MethodProbesVisitor
final
MethodProbesVisitor
mv
cv
visitMethod
access
name
desc
signature
exceptions
if
mv
null
methodProbes
else
methodProbes
mv
return
new
MethodSanitizer
null
access
name
desc
signature
exceptions
Override
public
void
visitEnd
super
visitEnd
LabelFlowAnalyzer
markLabels
this
MethodProbesAdapter
final
MethodProbesAdapter
probesAdapter
new
MethodProbesAdapter
methodProbes
ClassProbesAdapter
this
if
trackFrames
final
AnalyzerAdapter
analyzer
new
AnalyzerAdapter
ClassProbesAdapter
this
name
access
name
desc
probesAdapter
probesAdapter
setAnalyzer
analyzer
methodProbes
accept
this
analyzer
else
methodProbes
accept
this
probesAdapter
ClassInstrumenter
visitMethod
Override
public
MethodProbesVisitor
visitMethod
final
int
access
final
String
name
final
String
desc
final
String
signature
final
String
exceptions
InstrSupport
assertNotInstrumented
name
className
JaCoCo
final
MethodVisitor
mv
cv
visitMethod
access
name
desc
signature
exceptions
if
mv
null
return
null
MethodVisitor
ProbeInserter
final
MethodVisitor
frameEliminator
new
DuplicateFrameEliminator
mv
final
ProbeInserter
probeVariableInserter
new
ProbeInserter
access
name
desc
frameEliminator
probeArrayStrategy
return
new
MethodInstrumenter
probeVariableInserter
probeVariableInserter
methodProbesaccept
methodProbes
ProbeInserter
JaCoCo
JaCoCo
instr
flow
ASM
Probelnserter
visitCode
public
void
visitCode
accessorStackSize
arrayStrategy
storeInstance
mv
clinit
variable
mv
visitCode
public
int
storeInstance
final
MethodVisitor
mv
final
boolean
clinit
final
int
variable
jacocoInit
mv
visitMethodInsn
Opcodes
INVOKESTATIC
className
InstrSupport
InstrSupport
false
mv
visitVarInsn
Opcodes
ASTORE
variable
return
boolean
jacocoInit
ASM
IntelliJ
IDEA
asm
bytecode
outline
ASM
MethodProbesAdapter
visitLabel
visitinsn
return
throw
Override
public
void
visitInsn
final
int
opcode
switch
opcode
case
Opcodes
IRETURN
case
Opcodes
LRETURN
case
Opcodes
FRETURN
case
Opcodes
DRETURN
case
Opcodes
ARETURN
case
Opcodes
RETURN
case
Opcodes
ATHROW
probesVisitor
visitInsnWithProbe
opcode
idGenerator
nextId
break
default
probesVisitor
visitInsn
opcode
break
visitinsnWithProbe
probeInserter
insertProbe
probeId
ASM
public
void
insertProbe
final
int
id
mv
visitVarInsn
Opcodes
ALOAD
variable
InstrSupport
push
mv
id
mv
visitInsn
Opcodes
mv
visitInsn
Opcodes
BASTORE
true
run
visitinsn
opcode
public
void
run
boolean
jacocoInit
this
isPrime
true
JaCoCo
JaCoCo
JaCoCo
ASM
Java
JaCoCo
JaCoCo
ENTRY
SEQUENCE
GOTO
xRETURN
THROW
TABLESWITCH
LOOKUPSWITCH
JUMP
GOTO
IFx
TABLESWITCH
LOOKUPSWITCH
EXHANDLER
EXIT
xRETURN
THROW
EXEXIT
LabelFlowAnalyzer
JUMP
JaCoCo
GOTO
Java
goto
GOTO
JUMP
JVM
GOTO
IF
for
Java
GOTO
break
public
static
void
main
String
args
outer
for
int
i
i
i
if
i
break
outer
jacocoInit
jacocoData
JaCoCo
Class
ClassProbesAdapter
visitEnd
JaCoCo
Override
public
void
visitEnd
cv
visitTotalProbeCount
counter
super
visitEnd
cv
ClassInstrumenter
visitTotalProbeCount
ProbeArrayStrategy
addMembers
public
void
addMembers
final
ClassVisitor
cv
final
int
probeCount
createDataField
cv
createInitMethod
cv
probeCount
createDataField
ASM
API
jacocoData
private
void
createDataField
final
ClassVisitor
cv
cv
visitField
InstrSupport
InstrSupport
InstrSupport
null
null
InstrSupport
public
static
final
int
Opcodes
Opcodes
Opcodes
Opcodes
Linux
jacocoData
jacocolnit
private
void
createInitMethod
final
ClassVisitor
cv
final
int
probeCount
final
MethodVisitor
mv
cv
visitMethod
InstrSupport
InstrSupport
InstrSupport
null
null
mv
visitCode
boolean
jacocoData
mv
visitFieldInsn
Opcodes
GETSTATIC
className
InstrSupport
InstrSupport
mv
visitInsn
Opcodes
DUP
final
Label
alreadyInitialized
new
Label
jacocoData
mv
visitJumpInsn
Opcodes
IFNONNULL
alreadyInitialized
mv
visitInsn
Opcodes
POP
jacocoData
final
int
size
genInitializeDataField
mv
probeCount
if
withFrames
mv
visitFrame
Opcodes
mv
visitLabel
alreadyInitialized
mv
visitInsn
Opcodes
ARETURN
mv
visitMaxs
Math
max
size
mv
visitEnd
CoreTutorial
ExecutionDataStore
IExecutionDataVisitor
final
ExecutionDataStore
executionData
new
ExecutionDataStore
final
SessionInfoStore
sessionInfos
new
SessionInfoStore
data
collect
executionData
sessionInfos
false
runtime
shutdown
final
CoverageBuilder
coverageBuilder
new
CoverageBuilder
final
Analyzer
analyzer
new
Analyzer
executionData
coverageBuilder
original
getTargetClass
targetName
analyzer
analyzeClass
original
targetName
original
close
JaCoCo
RemoteControlWriter
org
jacoco
core
data
ASM
Analyzer
private
void
analyzeClass
final
byte
source
final
long
classId
classId
source
final
ClassVisitor
visitor
createAnalyzingVisitor
classId
reader
getClassName
reader
accept
visitor
JaCoCo
createAnalyzingVisitor
classld
ClassCoveragelmpl
ClassAnalyzer
ClassCoveragelmpl
ClassAnalyzer
ClassAnalyzer
MethodCoverageCalculator
IntelliJ
IDEA
IntelliJ
IDEA
intellij
coverage
Java
agent
JaCoCo
Run
xxx
with
Coverage
IntelliJ
IDEA
javaagent
intellij
coverage
agent
jar
IntelliJ
IDEA
intellij
coverage
ASM
JaCoCo
IntelliJ
IDEA
JaCoCo
JaCoCo
javaagent
jacocoagent
jar
IntelliJ
IDEA
IntelliJ
IDEA
Bugfix
A
API
A
A
group
order
domain
service
group
product
domain
service
tenant
management
app
api
API
tenant
management
app
ui
A
A
A
API
API
A
A
API
Intel
Cent
OS
A
A
JUnit
Mockito
Spring
Test
JaCoCo
API
REST
Assured
Testcontainers
JMeter
OWASP
ZAP
BurpSuite
Sqlmap
Beef
Hydra
Cucumber
A
A
A
API
QPS
TPS
OWASP
B
Disabled
JUnit
JUnit
B
API
Map
API
JSON
API
BeforeEach
AfterEach
B
Fixture
PowerMock
PowerMock
PowerMock
PowerMock
PowerMock
PowerMock
PowerMock
